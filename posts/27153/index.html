<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>24 个 R 的高效操作 | AOHUI BLOG.</title><meta name="keywords" content="R,效率"><meta name="author" content="Aohuiliu"><meta name="copyright" content="Aohuiliu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="R 中提升效率的小技巧"><meta property="og:type" content="article"><meta property="og:title" content="24 个 R 的高效操作"><meta property="og:url" content="https://aohuiliu.fun/posts/27153/index.html"><meta property="og:site_name" content="AOHUI BLOG."><meta property="og:description" content="R 中提升效率的小技巧"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.loli.net/2022/06/14/5wHfFZUlj6BTo2G.png"><meta property="article:published_time" content="2022-05-30T02:20:25.000Z"><meta property="article:modified_time" content="2022-05-30T02:20:25.000Z"><meta property="article:author" content="Aohuiliu"><meta property="article:tag" content="R"><meta property="article:tag" content="效率"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.loli.net/2022/06/14/5wHfFZUlj6BTo2G.png"><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://aohuiliu.fun/posts/27153/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui/dist/fancybox.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?463c88479f0f5d7145606417732cfe21";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:430},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js",css:"https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"24 个 R 的高效操作",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"5 月 30 日 10:20:25"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,c={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(c))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1e")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!o&&!a&&!c;if(void 0===t){if(a)activateLightMode();else if(o)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const i=saveToLocal.get("aside-status");void 0!==i&&("hide"===i?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.css" media="print" onload='this.media="all"'><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder"></i> <span>分类</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/friends/"><i class="fa-fw fas fa-star"></i> <span>动态</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-face-laugh"></i> <span>友链</span></a></li><li><a class="site-page child" href="/bb/"><i class="fa-fw fas fa-bullhorn"></i> <span>哔哔</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page" href="/about/"><span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><div id="blog_name"><a id="site-name" href="/"><svg id="blog_name" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 99.87 19.74"><path d="M3.13.27H7.21l3.13 19.2h-3l-.55-3.81v.05H3.35L2.8 19.47H0ZM6.42 13.11 5.07 3.62H5L3.7 13.11Z"></path><path d="M11.51 14.92V4.83C11.51 1.75 13.13 0 16.09 0s4.58 1.75 4.58 4.83V14.92c0 3.07-1.62 4.82-4.58 4.82S11.51 18 11.51 14.92Zm6.15.19V4.63c0-1.37-.61-1.89-1.57-1.89s-1.56.52-1.56 1.89V15.11c0 1.37.6 1.89 1.56 1.89S17.66 16.48 17.66 15.11Z"></path><path d="M22.7.27h3V8.09H29V.27h3v19.2H29V10.83H25.72v8.64h-3Z"></path><path d="M34.1 14.92V.27h3V15.14c0 1.37.58 1.86 1.54 1.86s1.53-.49 1.53-1.86V.27H43.1V14.92c0 3.07-1.54 4.82-4.5 4.82S34.1 18 34.1 14.92Z"></path><path d="M45.23.27h3v19.2h-3Z"></path><path d="M54.88.27h4.56c3.12 0 4.47 1.46 4.47 4.42v.77c0 2-.61 3.2-1.95 3.75v.06c1.62.55 2.25 2 2.25 4v1.65c0 3-1.57 4.55-4.58 4.55H54.88Zm4.2 7.82c1.12 0 1.81-.49 1.81-2V5c0-1.37-.47-2-1.54-2H57.9V8.09Zm.55 8.64c1 0 1.56-.47 1.56-1.9V13.16c0-1.78-.57-2.33-1.95-2.33H57.9v5.9Z"></path><path d="M66 .27h3V16.73h5v2.74H66Z"></path><path d="M75.06 14.92V4.83C75.06 1.75 76.68 0 79.64 0s4.58 1.75 4.58 4.83V14.92c0 3.07-1.62 4.82-4.58 4.82S75.06 18 75.06 14.92Zm6.14.19V4.63c0-1.37-.6-1.89-1.56-1.89s-1.56.52-1.56 1.89V15.11c0 1.37.6 1.89 1.56 1.89S81.2 16.48 81.2 15.11Z"></path><path d="M86 14.92V4.83C86 1.75 87.56 0 90.52 0S95 1.75 95 4.83V6.47H92.17V4.63c0-1.37-.6-1.89-1.56-1.89S89 3.26 89 4.63V15.14c0 1.37.61 1.86 1.57 1.86s1.56-.49 1.56-1.86V11.38H90.66V8.64H95v6.28c0 3.07-1.53 4.82-4.5 4.82S86 18 86 14.92Z"></path><path d="M97 16.56h2.9v2.91H97Z"></path></svg></a></div><div id="page-name-mask"><span id="page_name"><a id="page-name-text"><span>24 个 R 的高效操作</span></a></span></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder"></i> <span>分类</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/friends/"><i class="fa-fw fas fa-star"></i> <span>动态</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-face-laugh"></i> <span>友链</span></a></li><li><a class="site-page child" href="/bb/"><i class="fa-fw fas fa-bullhorn"></i> <span>哔哔</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page" href="/about/"><span>关于</span></a></div></div></div><div id="nav-right"><div id="search-button"><a class="nav-rightbutton site-page social-icon search" title="搜索"><i class="fas fa-search fa-fw"></i></a></div><div id="up_top_button"><a class="nav-rightbutton site-page up_top" onclick="btf.scrollToDest(0,500)" title="回到顶部"><i class="fas fa-arrow-up fa-fw"></i></a></div><div id="travellings_button"><a class="nav-rightbutton site-page" target="_blank" href="https://travellings.link/" rel="noopener nofollow noopener" title="随机前往一个开往项目网站"><i class="fas fa-subway fa-fw"></i></a></div><div id="toggle-menu"><a class="nav-rightbutton site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-cover"><img class="cover" id="post-cover-img" src="https://s2.loli.net/2022/06/14/5wHfFZUlj6BTo2G.png" alt="cover"></div><div id="post-info"><h1 class="post-title">24 个 R 的高效操作</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">更新于</span><time datetime="2022-05-30T02:20:25.000Z" title="更新于 5 月 30 日 10:20:25">5 月 30 日</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="修改默认提示语言">修改默认提示语言</h2><p>R 默认提示的语言有的人是英文，有的人是中文，这是因为每个人系统默认语言不同，可以通过下面方式进行修改<br>（装 R 的时候不勾选 message transition 选项也可以）</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Sys.getlocale<span class="punctuation">(</span><span class="punctuation">)</span> <span class="comment"># 显示系统语言</span></span><br><span class="line">Sys.setenv<span class="punctuation">(</span>LANG<span class="operator">=</span><span class="string">&quot;en&quot;</span><span class="punctuation">)</span> <span class="comment"># 更换默认语言为英文</span></span><br></pre></td></tr></table></figure><h2 id="查看-R-占用内存">查看 R 占用内存</h2><p>可以使用 <code>memory.size()</code> 获取内存大小，不过该函数仅限 Windows 系统。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">memory.size<span class="punctuation">(</span><span class="punctuation">)</span> <span class="comment"># 获取内存大小</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">341</span></span><br></pre></td></tr></table></figure><h2 id="查看数据集内存占用">查看数据集内存占用</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> object.size<span class="punctuation">(</span>mtcars<span class="punctuation">)</span></span><br><span class="line"><span class="number">7208</span> bytes</span><br><span class="line"><span class="operator">&gt;</span> object.size<span class="punctuation">(</span>mtcars<span class="punctuation">)</span><span class="operator">/</span><span class="number">1024</span> <span class="comment"># 以kb显示</span></span><br><span class="line"><span class="number">7</span> bytes  </span><br></pre></td></tr></table></figure><h2 id="代码中换行">代码中换行</h2><p>默认回车是运行代码，在 Rstudio 中有自动补齐，比如定义一个函数，直接自动补齐了 <code>&#123;&#125;</code>，回车就运行了，可以使用 shift+enter 换行</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">,</span>y<span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="边赋值边显示">边赋值边显示</h2><p>默认赋值完，直接敲变量名就打印数据，可以利用下面方式一步完成两个操作。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">(</span>x <span class="operator">&lt;-</span> runif<span class="punctuation">(</span><span class="number">10</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">0.5795985</span> <span class="number">0.4661326</span> <span class="number">0.9730974</span> <span class="number">0.6697417</span> <span class="number">0.2431985</span> <span class="number">0.3988545</span> <span class="number">0.4064351</span> <span class="number">0.8403910</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">9</span><span class="punctuation">]</span> <span class="number">0.3136191</span> <span class="number">0.9979925</span></span><br></pre></td></tr></table></figure><h2 id="查看源代码">查看源代码</h2><p>如果想查看 R 函数的源代码，直接输入函数名，不加括号即可。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> mean</span><br><span class="line"><span class="keyword">function</span> <span class="punctuation">(</span>x<span class="punctuation">,</span> ...<span class="punctuation">)</span> </span><br><span class="line"><span class="built_in">UseMethod</span><span class="punctuation">(</span><span class="string">&quot;mean&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&lt;</span>bytecode<span class="operator">:</span> <span class="number">0x0000023e3b8db998</span><span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&lt;</span>environment<span class="operator">:</span> namespace<span class="operator">:</span>base<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure><h2 id="利用函数修改镜像">利用函数修改镜像</h2><p>如果不设置 R 镜像，每次安装 R 包是都会弹出选择框，可以在安装之前通过函数进行设置，使用 <code>chooseCRANmirror()</code> 函数，给定 <code>ind</code> 选项一个数值即可。数值代表镜像编号。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> chooseCRANmirror<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">Secure CRAN mirrors </span><br><span class="line"></span><br><span class="line"> <span class="number">1</span><span class="operator">:</span> <span class="number">0</span><span class="operator">-</span>Cloud <span class="punctuation">[</span>https<span class="punctuation">]</span>                       <span class="number">2</span><span class="operator">:</span> Australia <span class="punctuation">(</span>Canberra<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>       </span><br><span class="line"> <span class="number">3</span><span class="operator">:</span> Australia <span class="punctuation">(</span>Melbourne <span class="number">1</span><span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>       <span class="number">4</span><span class="operator">:</span> Australia <span class="punctuation">(</span>Melbourne <span class="number">2</span><span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>    </span><br><span class="line"> <span class="number">5</span><span class="operator">:</span> Australia <span class="punctuation">(</span>Perth<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>             <span class="number">6</span><span class="operator">:</span> Austria <span class="punctuation">[</span>https<span class="punctuation">]</span>                    </span><br><span class="line"> <span class="number">7</span><span class="operator">:</span> Brazil <span class="punctuation">(</span>BA<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>                   <span class="number">8</span><span class="operator">:</span> Brazil <span class="punctuation">(</span>PR<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>                </span><br><span class="line"> <span class="number">9</span><span class="operator">:</span> Brazil <span class="punctuation">(</span>RJ<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>                  <span class="number">10</span><span class="operator">:</span> Brazil <span class="punctuation">(</span>SP <span class="number">1</span><span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>              </span><br><span class="line"><span class="number">11</span><span class="operator">:</span> Brazil <span class="punctuation">(</span>SP <span class="number">2</span><span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>                <span class="number">12</span><span class="operator">:</span> Bulgaria <span class="punctuation">[</span>https<span class="punctuation">]</span>                   </span><br><span class="line"><span class="number">13</span><span class="operator">:</span> Canada <span class="punctuation">(</span>MB<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>                  <span class="number">14</span><span class="operator">:</span> Chile <span class="punctuation">(</span>Santiago<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>           </span><br><span class="line"><span class="number">15</span><span class="operator">:</span> China <span class="punctuation">(</span>Beijing <span class="number">2</span><span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>            <span class="number">16</span><span class="operator">:</span> China <span class="punctuation">(</span>Hefei<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>              </span><br><span class="line"><span class="number">17</span><span class="operator">:</span> China <span class="punctuation">(</span>Hong Kong<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span>            <span class="number">18</span><span class="operator">:</span> China <span class="punctuation">(</span>Guangzhou<span class="punctuation">)</span> <span class="punctuation">[</span>https<span class="punctuation">]</span> </span><br><span class="line"><span class="operator">&gt;</span> chooseCRANmirror<span class="punctuation">(</span>ind <span class="operator">=</span> <span class="number">18</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="显示更多数据">显示更多数据</h2><p>默认 R 显示 1000 行数据，如果想显示更多，可以通过设置 <code>max.print</code> 选项。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> options<span class="punctuation">(</span><span class="string">&#x27;max.print&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">$</span>max.print</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> options<span class="punctuation">(</span><span class="string">&#x27;max.print&#x27;</span><span class="operator">=</span><span class="number">2000</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> options<span class="punctuation">(</span><span class="string">&#x27;max.print&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">$</span>max.print</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">2000</span></span><br></pre></td></tr></table></figure><h2 id="默认保留小数点">默认保留小数点</h2><p>默认 R 显示 7 为小数，如果想默认保留两位小数，可以通过设置 <code>digits</code> 选项。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> options<span class="punctuation">(</span><span class="string">&#x27;digits&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">$</span>digits</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> options<span class="punctuation">(</span><span class="string">&#x27;digits&#x27;</span><span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> options<span class="punctuation">(</span><span class="string">&#x27;digits&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">$</span>digits</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><h2 id="管道">管道</h2><p>使用管道让代码更加简洁，无需定义过多中间变量。R中的管道符号为 <code>%&gt;%</code> 如果要使用管道，需要加载 <code>magrittr</code> 包。其实 Rstudio 出的各种包都默认支持管道，如果加载了 <code>tidyverse</code> 包也是可以。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> library<span class="punctuation">(</span>magrittr<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> library<span class="punctuation">(</span>ggplot2<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> mtcars <span class="operator">%&gt;%</span> ggplot<span class="punctuation">(</span>aes<span class="punctuation">(</span>x<span class="operator">=</span>cyl<span class="punctuation">,</span>y<span class="operator">=</span>mpg<span class="punctuation">,</span>group<span class="operator">=</span>cyl<span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">+</span>geom_boxplot<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="拆分列数据">拆分列数据</h2><p>有些时候记不住列名，或者容易拼错，想要列名也能够自动补齐，可以使用 <code>attach</code> 函数，这样每一列就变成一个独立的变量。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">attach<span class="punctuation">(</span>mtcars<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> cyl</span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">6</span> <span class="number">6</span> <span class="number">4</span> <span class="number">6</span> <span class="number">8</span> <span class="number">6</span> <span class="number">8</span> <span class="number">4</span> <span class="number">4</span> <span class="number">6</span> <span class="number">6</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">8</span> <span class="number">6</span> <span class="number">8</span> <span class="number">4</span></span><br><span class="line"><span class="operator">&gt;</span> mpg</span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">21.0</span> <span class="number">21.0</span> <span class="number">22.8</span> <span class="number">21.4</span> <span class="number">18.7</span> <span class="number">18.1</span> <span class="number">14.3</span> <span class="number">24.4</span> <span class="number">22.8</span> <span class="number">19.2</span> <span class="number">17.8</span> <span class="number">16.4</span> <span class="number">17.3</span> <span class="number">15.2</span> <span class="number">10.4</span> <span class="number">10.4</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">17</span><span class="punctuation">]</span> <span class="number">14.7</span> <span class="number">32.4</span> <span class="number">30.4</span> <span class="number">33.9</span> <span class="number">21.5</span> <span class="number">15.5</span> <span class="number">15.2</span> <span class="number">13.3</span> <span class="number">19.2</span> <span class="number">27.3</span> <span class="number">26.0</span> <span class="number">30.4</span> <span class="number">15.8</span> <span class="number">19.7</span> <span class="number">15.0</span> <span class="number">21.4</span></span><br></pre></td></tr></table></figure><h2 id="默认加载包">默认加载包</h2><p>如果一些包经常使用，想要启动R之后自动加载，可以在配置文件中进行设置，例如每期启动 R，自动加载 <code>ggplot2</code> 包。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">file.edit<span class="punctuation">(</span><span class="string">&quot;~/.Rprofile&quot;</span><span class="punctuation">)</span></span><br><span class="line">.First <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">library<span class="punctuation">(</span>ggplot2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="为R添加额外扩展包加载路径">为R添加额外扩展包加载路径</h2><p>默认 R 包的加载目录在 <code>.libPaths()</code> 目录中，当然可以为其添加更多的路径。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> .libPaths<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;C:/Users/genom/Documents/R/win-library/4.0&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span> <span class="string">&quot;C:/Program Files/R/R-4.0.3/library&quot;</span>        </span><br><span class="line"><span class="operator">&gt;</span> .libPaths<span class="punctuation">(</span>new <span class="operator">=</span> <span class="string">&quot;C:/Users/genom/Desktop/nparFiles/&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> .libPaths<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;C:/Users/genom/Desktop/nparFiles&quot;</span>   <span class="string">&quot;C:/Program Files/R/R-4.0.3/library&quot;</span></span><br></pre></td></tr></table></figure><h2 id="迁移-R-包">迁移 R 包</h2><p>如果需要将一台设备安装的 R 包，在另外一台设备上安装，首先保存 A 设备上的 R 包名字列表，在另外一台设备上写一个循环进行安装。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 A 设备上保存名字列表</span></span><br><span class="line">oldip <span class="operator">&lt;-</span> installed.packages<span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line">save<span class="punctuation">(</span>oldip<span class="punctuation">,</span>file <span class="operator">=</span> <span class="string">&quot;installedPacckages.Rdata&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 B 设备上进行安装；</span></span><br><span class="line">load<span class="punctuation">(</span><span class="string">&quot;installedPacckages.Rdata&quot;</span><span class="punctuation">)</span></span><br><span class="line">newip <span class="operator">&lt;-</span> installed.packages<span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line"> <span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> setdiff<span class="punctuation">(</span>oldip<span class="punctuation">,</span>newip<span class="punctuation">)</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">  install.packages<span class="punctuation">(</span>i<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="列出-R-包中的函数">列出 R 包中的函数</h2><p>如果想查看一个 R 包中全部函数，可以使用下面的语句。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls<span class="punctuation">(</span>package<span class="operator">:</span>base<span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="不加载包使用其中函数">不加载包使用其中函数</h2><p>如果加载 R 包，还想使用其中的函数，需要使用 <code>包名::函数</code> 的方式。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dplyr<span class="operator">::</span>filter<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="快速获取颜色">快速获取颜色</h2><p>在绘图的时候，想要快速设置几个不同的颜色，又嫌生成颜色比较麻烦。可以使用 <code>rainbow()</code> 函数，给定一个数据，快速生成颜色。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> rainbow<span class="punctuation">(</span><span class="number">6</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;#FF0000&quot;</span> <span class="string">&quot;#FFFF00&quot;</span> <span class="string">&quot;#00FF00&quot;</span> <span class="string">&quot;#00FFFF&quot;</span> <span class="string">&quot;#0000FF&quot;</span> <span class="string">&quot;#FF00FF&quot;</span></span><br></pre></td></tr></table></figure><h2 id="炸开数据"><strong>炸开数据</strong></h2><p>前面介绍了 <code>attach()</code> 函数可以将每一列变成一个单独变量，但这种方式并不推荐，因为会让变量环境很混乱。可以使用一个特殊管道符 <code>%$%</code> 实现同样的效果，我称之为把数据“炸开”</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> library<span class="punctuation">(</span>magrittr<span class="punctuation">)</span></span><br><span class="line">Warning message<span class="operator">:</span></span><br><span class="line">程辑包‘magrittr’是用R版本<span class="number">3.6</span>.3来建造的 </span><br><span class="line"><span class="operator">&gt;</span> women <span class="operator">%$%</span> plot<span class="punctuation">(</span>weight<span class="punctuation">,</span>height<span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="巧用-example-函数学习绘图">巧用 <code>example()</code> 函数学习绘图</h2><p><code>example()</code> 函数会帮助运行 R 帮助文档中的代码，有时候想看一个函数如何使用，可以直接运行这个函数。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> library<span class="punctuation">(</span>pheatmap<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> example<span class="punctuation">(</span><span class="string">&quot;pheatmap&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> <span class="comment"># Create test matrix</span></span><br><span class="line">phetmp<span class="operator">&gt;</span> test <span class="operator">=</span> matrix<span class="punctuation">(</span>rnorm<span class="punctuation">(</span><span class="number">200</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> test<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">,</span> seq<span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">=</span> test<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">,</span> seq<span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> test<span class="punctuation">[</span><span class="number">11</span><span class="operator">:</span><span class="number">20</span><span class="punctuation">,</span> seq<span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">=</span> test<span class="punctuation">[</span><span class="number">11</span><span class="operator">:</span><span class="number">20</span><span class="punctuation">,</span> seq<span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> test<span class="punctuation">[</span><span class="number">15</span><span class="operator">:</span><span class="number">20</span><span class="punctuation">,</span> seq<span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">=</span> test<span class="punctuation">[</span><span class="number">15</span><span class="operator">:</span><span class="number">20</span><span class="punctuation">,</span> seq<span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> colnames<span class="punctuation">(</span>test<span class="punctuation">)</span> <span class="operator">=</span> paste<span class="punctuation">(</span><span class="string">&quot;Test&quot;</span><span class="punctuation">,</span> <span class="number">1</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">,</span> sep <span class="operator">=</span> <span class="string">&quot;&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> rownames<span class="punctuation">(</span>test<span class="punctuation">)</span> <span class="operator">=</span> paste<span class="punctuation">(</span><span class="string">&quot;Gene&quot;</span><span class="punctuation">,</span> <span class="number">1</span><span class="operator">:</span><span class="number">20</span><span class="punctuation">,</span> sep <span class="operator">=</span> <span class="string">&quot;&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">phetmp<span class="operator">&gt;</span> <span class="comment"># Draw heatmaps</span></span><br><span class="line">phetmp<span class="operator">&gt;</span> pheatmap<span class="punctuation">(</span>test<span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="统计计算时间">统计计算时间</h2><p>想统计一条代码运行时间，可以使用 <code>system.time()</code> 函数</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> system.time<span class="punctuation">(</span>runif<span class="punctuation">(</span><span class="number">100000000</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">用户 系统 流逝 </span><br><span class="line"><span class="number">2.75</span> <span class="number">0.08</span> <span class="number">2.83</span> </span><br></pre></td></tr></table></figure><h2 id="释放内存">释放内存</h2><p>R 有一套自己的内存回收机制，因此，即使删除了变量，内存不会立即变化，可以使用 <code>gc()</code> 函数释放内存。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> memory.size<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">297.56</span></span><br><span class="line"><span class="operator">&gt;</span> rm<span class="punctuation">(</span><span class="built_in">list</span> <span class="operator">=</span> ls<span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> memory.size<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">298.54</span></span><br><span class="line"><span class="operator">&gt;</span> gc<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">          used <span class="punctuation">(</span>Mb<span class="punctuation">)</span> gc trigger  <span class="punctuation">(</span>Mb<span class="punctuation">)</span> <span class="built_in">max</span> used  <span class="punctuation">(</span>Mb<span class="punctuation">)</span></span><br><span class="line">Ncells <span class="number">1384255</span> <span class="number">74.0</span>    <span class="number">4046672</span> <span class="number">216.2</span>  <span class="number">4046672</span> <span class="number">216.2</span></span><br><span class="line">Vcells <span class="number">4288164</span> <span class="number">32.8</span>   <span class="number">27057220</span> <span class="number">206.5</span> <span class="number">33821525</span> <span class="number">258.1</span></span><br><span class="line"><span class="operator">&gt;</span> memory.size<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">255.5</span></span><br></pre></td></tr></table></figure><h2 id="删除全部变量">删除全部变量</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示全部变量内容</span></span><br><span class="line"><span class="operator">&gt;</span> ls<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 删除</span></span><br><span class="line"><span class="operator">&gt;</span> rm<span class="punctuation">(</span><span class="built_in">list</span><span class="operator">=</span>ls<span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 释放内存</span></span><br><span class="line"><span class="operator">&gt;</span> gc<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h2 id="恢复默认数据集">恢复默认数据集</h2><p>如果不小心将内置数据集删除了，或者新定义同名变量，就会替换原有数据集。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> head<span class="punctuation">(</span>mtcars<span class="punctuation">)</span></span><br><span class="line">                   mpg cyl disp  hp drat    wt  qsec vs am gear carb</span><br><span class="line">Mazda RX4         <span class="number">21.0</span>   <span class="number">6</span>  <span class="number">160</span> <span class="number">110</span> <span class="number">3.90</span> <span class="number">2.620</span> <span class="number">16.46</span>  <span class="number">0</span>  <span class="number">1</span>    <span class="number">4</span>    <span class="number">4</span></span><br><span class="line">Mazda RX4 Wag     <span class="number">21.0</span>   <span class="number">6</span>  <span class="number">160</span> <span class="number">110</span> <span class="number">3.90</span> <span class="number">2.875</span> <span class="number">17.02</span>  <span class="number">0</span>  <span class="number">1</span>    <span class="number">4</span>    <span class="number">4</span></span><br><span class="line">Datsun <span class="number">710</span>        <span class="number">22.8</span>   <span class="number">4</span>  <span class="number">108</span>  <span class="number">93</span> <span class="number">3.85</span> <span class="number">2.320</span> <span class="number">18.61</span>  <span class="number">1</span>  <span class="number">1</span>    <span class="number">4</span>    <span class="number">1</span></span><br><span class="line">Hornet <span class="number">4</span> Drive    <span class="number">21.4</span>   <span class="number">6</span>  <span class="number">258</span> <span class="number">110</span> <span class="number">3.08</span> <span class="number">3.215</span> <span class="number">19.44</span>  <span class="number">1</span>  <span class="number">0</span>    <span class="number">3</span>    <span class="number">1</span></span><br><span class="line">Hornet Sportabout <span class="number">18.7</span>   <span class="number">8</span>  <span class="number">360</span> <span class="number">175</span> <span class="number">3.15</span> <span class="number">3.440</span> <span class="number">17.02</span>  <span class="number">0</span>  <span class="number">0</span>    <span class="number">3</span>    <span class="number">2</span></span><br><span class="line">Valiant           <span class="number">18.1</span>   <span class="number">6</span>  <span class="number">225</span> <span class="number">105</span> <span class="number">2.76</span> <span class="number">3.460</span> <span class="number">20.22</span>  <span class="number">1</span>  <span class="number">0</span>    <span class="number">3</span>    <span class="number">1</span></span><br><span class="line"><span class="operator">&gt;</span> mtcars<span class="operator">=</span><span class="number">1</span><span class="operator">:</span><span class="number">10</span></span><br><span class="line"><span class="operator">&gt;</span> mtcars</span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="operator">&gt;</span> data<span class="punctuation">(</span><span class="string">&quot;mtcars&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> head<span class="punctuation">(</span>mtcars<span class="punctuation">)</span></span><br><span class="line">                   mpg cyl disp  hp drat    wt  qsec vs am gear carb</span><br><span class="line">Mazda RX4         <span class="number">21.0</span>   <span class="number">6</span>  <span class="number">160</span> <span class="number">110</span> <span class="number">3.90</span> <span class="number">2.620</span> <span class="number">16.46</span>  <span class="number">0</span>  <span class="number">1</span>    <span class="number">4</span>    <span class="number">4</span></span><br><span class="line">Mazda RX4 Wag     <span class="number">21.0</span>   <span class="number">6</span>  <span class="number">160</span> <span class="number">110</span> <span class="number">3.90</span> <span class="number">2.875</span> <span class="number">17.02</span>  <span class="number">0</span>  <span class="number">1</span>    <span class="number">4</span>    <span class="number">4</span></span><br><span class="line">Datsun <span class="number">710</span>        <span class="number">22.8</span>   <span class="number">4</span>  <span class="number">108</span>  <span class="number">93</span> <span class="number">3.85</span> <span class="number">2.320</span> <span class="number">18.61</span>  <span class="number">1</span>  <span class="number">1</span>    <span class="number">4</span>    <span class="number">1</span></span><br><span class="line">Hornet <span class="number">4</span> Drive    <span class="number">21.4</span>   <span class="number">6</span>  <span class="number">258</span> <span class="number">110</span> <span class="number">3.08</span> <span class="number">3.215</span> <span class="number">19.44</span>  <span class="number">1</span>  <span class="number">0</span>    <span class="number">3</span>    <span class="number">1</span></span><br><span class="line">Hornet Sportabout <span class="number">18.7</span>   <span class="number">8</span>  <span class="number">360</span> <span class="number">175</span> <span class="number">3.15</span> <span class="number">3.440</span> <span class="number">17.02</span>  <span class="number">0</span>  <span class="number">0</span>    <span class="number">3</span>    <span class="number">2</span></span><br><span class="line">Valiant           <span class="number">18.1</span>   <span class="number">6</span>  <span class="number">225</span> <span class="number">105</span> <span class="number">2.76</span> <span class="number">3.460</span> <span class="number">20.22</span>  <span class="number">1</span>  <span class="number">0</span>    <span class="number">3</span>    <span class="number">1</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br></pre></td></tr></table></figure><h2 id="快速获取函数选项参数">快速获取函数选项参数</h2><p>R 函数的选项参数非常多，如果每次都调出帮助文档很麻烦，可以使用 <code>args()</code> 函数，快速打印出函数的选项参数。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> args<span class="punctuation">(</span>heatmap<span class="punctuation">)</span></span><br><span class="line"><span class="keyword">function</span> <span class="punctuation">(</span>x<span class="punctuation">,</span> Rowv <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> Colv <span class="operator">=</span> <span class="keyword">if</span> <span class="punctuation">(</span>symm<span class="punctuation">)</span> <span class="string">&quot;Rowv&quot;</span> <span class="keyword">else</span> <span class="literal">NULL</span><span class="punctuation">,</span> </span><br><span class="line">    distfun <span class="operator">=</span> dist<span class="punctuation">,</span> hclustfun <span class="operator">=</span> hclust<span class="punctuation">,</span> reorderfun <span class="operator">=</span> <span class="keyword">function</span><span class="punctuation">(</span>d<span class="punctuation">,</span> </span><br><span class="line">        w<span class="punctuation">)</span> reorder<span class="punctuation">(</span>d<span class="punctuation">,</span> w<span class="punctuation">)</span><span class="punctuation">,</span> add.expr<span class="punctuation">,</span> symm <span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">,</span> revC <span class="operator">=</span> identical<span class="punctuation">(</span>Colv<span class="punctuation">,</span> </span><br><span class="line">        <span class="string">&quot;Rowv&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> scale <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;row&quot;</span><span class="punctuation">,</span> <span class="string">&quot;column&quot;</span><span class="punctuation">,</span> </span><br><span class="line">        <span class="string">&quot;none&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> na.rm <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> margins <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">5</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">)</span><span class="punctuation">,</span> ColSideColors<span class="punctuation">,</span> </span><br><span class="line">    RowSideColors<span class="punctuation">,</span> cexRow <span class="operator">=</span> <span class="number">0.2</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">/</span>log10<span class="punctuation">(</span>nr<span class="punctuation">)</span><span class="punctuation">,</span> cexCol <span class="operator">=</span> <span class="number">0.2</span> <span class="operator">+</span> </span><br><span class="line">        <span class="number">1</span><span class="operator">/</span>log10<span class="punctuation">(</span>nc<span class="punctuation">)</span><span class="punctuation">,</span> labRow <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> labCol <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> </span><br><span class="line">    xlab <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> ylab <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> keep.dendro <span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">,</span> verbose <span class="operator">=</span> getOption<span class="punctuation">(</span><span class="string">&quot;verbose&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">    ...<span class="punctuation">)</span> </span><br><span class="line"><span class="literal">NULL</span></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:x345242281@outlook.com">Aohui</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://aohuiliu.fun/posts/27153/">https://aohuiliu.fun/posts/27153/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://aohuiliu.fun" target="_blank">AOHUI BLOG.</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/R/">R</a><a class="post-meta__tags" href="/tags/%E6%95%88%E7%8E%87/">效率</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/29090/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">【魔改】去除标签和分类页子页面的侧边栏</div></div></a></div><div class="next-post pull-right"><a href="/posts/25672/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">成为会使用面向对象编程的程序员吧</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-message fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Aohuiliu</div><div class="author-info__description">珞珈山职业技术学院</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/341395189"><i class="fab fa-bilibili"></i><span>关注 B 站</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/janedut" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://space.bilibili.com/341395189" target="_blank" title="Bilibili"><i class="fab fa-bilibili"></i></a><a class="social-icon" href="mailto:x345242281@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-bars"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E6%8F%90%E7%A4%BA%E8%AF%AD%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">修改默认提示语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B-R-%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98"><span class="toc-number">2.</span> <span class="toc-text">查看 R 占用内存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">查看数据集内存占用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%8D%A2%E8%A1%8C"><span class="toc-number">4.</span> <span class="toc-text">代码中换行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%B9%E8%B5%8B%E5%80%BC%E8%BE%B9%E6%98%BE%E7%A4%BA"><span class="toc-number">5.</span> <span class="toc-text">边赋值边显示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="toc-number">6.</span> <span class="toc-text">查看源代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%87%BD%E6%95%B0%E4%BF%AE%E6%94%B9%E9%95%9C%E5%83%8F"><span class="toc-number">7.</span> <span class="toc-text">利用函数修改镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%9B%B4%E5%A4%9A%E6%95%B0%E6%8D%AE"><span class="toc-number">8.</span> <span class="toc-text">显示更多数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E4%BF%9D%E7%95%99%E5%B0%8F%E6%95%B0%E7%82%B9"><span class="toc-number">9.</span> <span class="toc-text">默认保留小数点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93"><span class="toc-number">10.</span> <span class="toc-text">管道</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%86%E5%88%86%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">11.</span> <span class="toc-text">拆分列数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8A%A0%E8%BD%BD%E5%8C%85"><span class="toc-number">12.</span> <span class="toc-text">默认加载包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BAR%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E6%89%A9%E5%B1%95%E5%8C%85%E5%8A%A0%E8%BD%BD%E8%B7%AF%E5%BE%84"><span class="toc-number">13.</span> <span class="toc-text">为R添加额外扩展包加载路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%81%E7%A7%BB-R-%E5%8C%85"><span class="toc-number">14.</span> <span class="toc-text">迁移 R 包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E5%87%BA-R-%E5%8C%85%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">15.</span> <span class="toc-text">列出 R 包中的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%8A%A0%E8%BD%BD%E5%8C%85%E4%BD%BF%E7%94%A8%E5%85%B6%E4%B8%AD%E5%87%BD%E6%95%B0"><span class="toc-number">16.</span> <span class="toc-text">不加载包使用其中函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E8%8E%B7%E5%8F%96%E9%A2%9C%E8%89%B2"><span class="toc-number">17.</span> <span class="toc-text">快速获取颜色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%B8%E5%BC%80%E6%95%B0%E6%8D%AE"><span class="toc-number">18.</span> <span class="toc-text">炸开数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A7%E7%94%A8-example-%E5%87%BD%E6%95%B0%E5%AD%A6%E4%B9%A0%E7%BB%98%E5%9B%BE"><span class="toc-number">19.</span> <span class="toc-text">巧用 example() 函数学习绘图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4"><span class="toc-number">20.</span> <span class="toc-text">统计计算时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98"><span class="toc-number">21.</span> <span class="toc-text">释放内存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%85%A8%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">22.</span> <span class="toc-text">删除全部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E9%BB%98%E8%AE%A4%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">23.</span> <span class="toc-text">恢复默认数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E8%8E%B7%E5%8F%96%E5%87%BD%E6%95%B0%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0"><span class="toc-number">24.</span> <span class="toc-text">快速获取函数选项参数</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-list-ol"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/26947/" title="Butterfly 主题 Footer 美化，简洁大气"><img src="https://s2.loli.net/2022/08/29/DSF6KIQy5Rgkupn.jpg" onerror='this.onerror=null,this.src="https://s2.loli.net/2022/08/22/M23IJ5Wvag8d4XA.png"' alt="Butterfly 主题 Footer 美化，简洁大气"></a><div class="content"><a class="title" href="/posts/26947/" title="Butterfly 主题 Footer 美化，简洁大气">Butterfly 主题 Footer 美化，简洁大气</a><time datetime="2022-08-29T08:29:52.000Z" title="发布于 8 月 29 日 16:29:52">8 月 29 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/28191/" title="响应更迅速，去除 macOS Dock 栏显示和隐藏的延时"><img src="https://images.unsplash.com/photo-1560858275-933aa173847b?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1632&amp;q=80" onerror='this.onerror=null,this.src="https://s2.loli.net/2022/08/22/M23IJ5Wvag8d4XA.png"' alt="响应更迅速，去除 macOS Dock 栏显示和隐藏的延时"></a><div class="content"><a class="title" href="/posts/28191/" title="响应更迅速，去除 macOS Dock 栏显示和隐藏的延时">响应更迅速，去除 macOS Dock 栏显示和隐藏的延时</a><time datetime="2022-08-08T07:01:13.000Z" title="发布于 8 月 08 日 15:01:13">8 月 08 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/56172/" title="写在一周年"><img src="https://s2.loli.net/2022/07/29/pgzPG9s8QVRdUky.png" onerror='this.onerror=null,this.src="https://s2.loli.net/2022/08/22/M23IJ5Wvag8d4XA.png"' alt="写在一周年"></a><div class="content"><a class="title" href="/posts/56172/" title="写在一周年">写在一周年</a><time datetime="2022-07-25T14:20:23.000Z" title="发布于 7 月 25 日 22:20:23">7 月 25 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/19568/" title="Linux 常用命令"><img src="https://s2.loli.net/2022/07/29/pgzPG9s8QVRdUky.png" onerror='this.onerror=null,this.src="https://s2.loli.net/2022/08/22/M23IJ5Wvag8d4XA.png"' alt="Linux 常用命令"></a><div class="content"><a class="title" href="/posts/19568/" title="Linux 常用命令">Linux 常用命令</a><time datetime="2022-07-12T02:33:23.000Z" title="发布于 7 月 12 日 10:33:23">7 月 12 日</time></div></div></div></div></div></div></main><footer id="footer"><div id="ah-footer"><div class="footer-group"><h3 class="footer-title">博客文章</h3><div class="footer-links"><a class="footer-item" href="/archives/" data-pjax-state="">全部文章</a><a class="footer-item" href="/tags/" data-pjax-state="">文章标签</a><a class="footer-item" href="/categories/" data-pjax-state="">文章分类</a></div></div><div class="footer-group"><h3 class="footer-title">学习笔记</h3><div class="footer-links"><a class="footer-item" href="/tags/R/" data-pjax-state="">R 语言</a><a class="footer-item" href="/tags/Python/" data-pjax-state="">Python</a><a class="footer-item" href="/tags/Linux/" data-pjax-state="">Linux</a></div></div><div class="footer-group"><h3 class="footer-title">博客链接</h3><div class="footer-links"><a class="footer-item" href="/friends/" data-pjax-state="">友链动态</a><a class="footer-item" href="/link/" data-pjax-state="">友情链接</a><a class="footer-item" href="/bb/" data-pjax-state="">哔哔点啥</a></div></div><div class="footer-group"><h3 class="footer-title">博客改造</h3><div class="footer-links"><a class="footer-item" href="/posts/43603/" data-pjax-state="">博客部署</a><a class="footer-item" href="/categories/博客魔改/" data-pjax-state="">博客魔改</a></div></div><div class="footer-group"><h3 class="footer-title">关于本站</h3><div class="footer-links"><a class="footer-item" href="/about/" data-pjax-state="">关于博主</a><a class="footer-item" href="/cc/" data-pjax-state="">版权协议</a><a class="footer-item" onclick="btf.scrollToDest(0,500)">回到顶部</a></div></div></div><div id="fotter-copyright" style="font-size:90%"><div class="copyrights"><span>Copyright © 2022 Aohuiliu.</span> <span>All rights reserved.</span></div><div class="framework-info"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">&</span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="输入关键字" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo-janedut.vercel.app",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"!=typeof twikoo?getScript("https://cdn.staticfile.org/twikoo/1.5.10/twikoo.all.min.js").then(t):setTimeout(t,0)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script></div><script async data-pjax src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/pace/1.2.4/pace.min.js"></script><script src="https://npm.elemecdn.com/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div><script data-pjax>function butterfly_swiper_injector_config(){var s=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),s.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/22544/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://images.unsplash.com/photo-1475137979732-b349acb6b7e3?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=870&amp;q=80" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-04-27</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/22544/&quot;);" href="javascript:void(0);" alt="">折腾博客的思考🤔</a><div class="blog-slider__text">折腾各种博客平台和主题，真的有用吗？</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/22544/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/43603/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://s2.loli.net/2022/06/14/eWu4ZaFdBR73K6N.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-04-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/43603/&quot;);" href="javascript:void(0);" alt="">Hexo deploy shell script</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/43603/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/29090/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://images.unsplash.com/photo-1623474237394-055b5c5b9095?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1053&amp;q=80" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-31</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/29090/&quot;);" href="javascript:void(0);" alt="">【魔改】去除标签和分类页子页面的侧边栏</a><div class="blog-slider__text">去除 Butterfly 主题标签页和分类页子页面的侧边栏（aside）</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/29090/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/27153/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://s2.loli.net/2022/06/14/5wHfFZUlj6BTo2G.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/27153/&quot;);" href="javascript:void(0);" alt="">24 个 R 的高效操作</a><div class="blog-slider__text">R 中提升效率的小技巧</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/27153/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/34995/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://s2.loli.net/2022/06/14/5KmJc84UNDiF7qd.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-05</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/34995/&quot;);" href="javascript:void(0);" alt="">Typora 自用主题修改 CSS</a><div class="blog-slider__text">主题是 Github 上的 Drake，默认就很好看，自己的做了一些修改。</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/34995/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.js"></script><script defer data-pjax src="/js/swiper_init.js"></script></body></html>