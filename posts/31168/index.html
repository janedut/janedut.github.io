<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Linux 笔记：Shell 基础与 Shell 编程 | AOHUI BLOG.</title><meta name="keywords" content="学习笔记,Linux,Shell"><meta name="author" content="Aohuiliu"><meta name="copyright" content="Aohuiliu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="历史命令与命令补全 history：历史命令 -c：清空历史 -w：把内存中的历史命令写入历史命令文件中，~&#x2F;.bash_history（内存中的历史命令不会立马保存到文件中） 历史命令默认保存 1000 条，可以更改配置文件中的 HISTSIZE 12345$ cat ~&#x2F;.bashrc | grep HISHISTCONTROL&#x3D;ignoreboth# for setting history"><meta property="og:type" content="article"><meta property="og:title" content="Linux 笔记：Shell 基础与 Shell 编程"><meta property="og:url" content="https://aohuiliu.fun/posts/31168/index.html"><meta property="og:site_name" content="AOHUI BLOG."><meta property="og:description" content="历史命令与命令补全 history：历史命令 -c：清空历史 -w：把内存中的历史命令写入历史命令文件中，~&#x2F;.bash_history（内存中的历史命令不会立马保存到文件中） 历史命令默认保存 1000 条，可以更改配置文件中的 HISTSIZE 12345$ cat ~&#x2F;.bashrc | grep HISHISTCONTROL&#x3D;ignoreboth# for setting history"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://th.wallhaven.cc/small/4g/4gg2oq.jpg"><meta property="article:published_time" content="2022-07-06T02:23:01.000Z"><meta property="article:modified_time" content="2022-07-06T02:23:01.000Z"><meta property="article:author" content="Aohuiliu"><meta property="article:tag" content="学习笔记"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Shell"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://th.wallhaven.cc/small/4g/4gg2oq.jpg"><link rel="shortcut icon" href="/images/favicon.jpeg"><link rel="canonical" href="https://aohuiliu.fun/posts/31168/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?463c88479f0f5d7145606417732cfe21";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:430},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"null",Snackbar:void 0,source:{justifiedGallery:{js:"https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js",css:"https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Linux 笔记：Shell 基础与 Shell 编程",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"7 月 06 日 10:23:01"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,c={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(c))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#1c1c1e")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!o&&!a&&!c;if(void 0===t){if(a)activateLightMode();else if(o)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const i=saveToLocal.get("aside-status");void 0!==i&&("hide"===i?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css"><link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/swiper.css" media="print" onload='this.media="all"'><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder"></i> <span>分类</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/friends/"><i class="fa-fw fas fa-star"></i> <span>动态</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-face-laugh"></i> <span>友链</span></a></li><li><a class="site-page child" href="/bb/"><i class="fa-fw fas fa-bullhorn"></i> <span>哔哔</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page" href="/about/"><span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><div id="blog_name"><a id="site-name" href="/"><svg id="blog_name" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 99.87 19.74"><path d="M3.13.27H7.21l3.13 19.2h-3l-.55-3.81v.05H3.35L2.8 19.47H0ZM6.42 13.11 5.07 3.62H5L3.7 13.11Z"></path><path d="M11.51 14.92V4.83C11.51 1.75 13.13 0 16.09 0s4.58 1.75 4.58 4.83V14.92c0 3.07-1.62 4.82-4.58 4.82S11.51 18 11.51 14.92Zm6.15.19V4.63c0-1.37-.61-1.89-1.57-1.89s-1.56.52-1.56 1.89V15.11c0 1.37.6 1.89 1.56 1.89S17.66 16.48 17.66 15.11Z"></path><path d="M22.7.27h3V8.09H29V.27h3v19.2H29V10.83H25.72v8.64h-3Z"></path><path d="M34.1 14.92V.27h3V15.14c0 1.37.58 1.86 1.54 1.86s1.53-.49 1.53-1.86V.27H43.1V14.92c0 3.07-1.54 4.82-4.5 4.82S34.1 18 34.1 14.92Z"></path><path d="M45.23.27h3v19.2h-3Z"></path><path d="M54.88.27h4.56c3.12 0 4.47 1.46 4.47 4.42v.77c0 2-.61 3.2-1.95 3.75v.06c1.62.55 2.25 2 2.25 4v1.65c0 3-1.57 4.55-4.58 4.55H54.88Zm4.2 7.82c1.12 0 1.81-.49 1.81-2V5c0-1.37-.47-2-1.54-2H57.9V8.09Zm.55 8.64c1 0 1.56-.47 1.56-1.9V13.16c0-1.78-.57-2.33-1.95-2.33H57.9v5.9Z"></path><path d="M66 .27h3V16.73h5v2.74H66Z"></path><path d="M75.06 14.92V4.83C75.06 1.75 76.68 0 79.64 0s4.58 1.75 4.58 4.83V14.92c0 3.07-1.62 4.82-4.58 4.82S75.06 18 75.06 14.92Zm6.14.19V4.63c0-1.37-.6-1.89-1.56-1.89s-1.56.52-1.56 1.89V15.11c0 1.37.6 1.89 1.56 1.89S81.2 16.48 81.2 15.11Z"></path><path d="M86 14.92V4.83C86 1.75 87.56 0 90.52 0S95 1.75 95 4.83V6.47H92.17V4.63c0-1.37-.6-1.89-1.56-1.89S89 3.26 89 4.63V15.14c0 1.37.61 1.86 1.57 1.86s1.56-.49 1.56-1.86V11.38H90.66V8.64H95v6.28c0 3.07-1.53 4.82-4.5 4.82S86 18 86 14.92Z"></path><path d="M97 16.56h2.9v2.91H97Z"></path></svg></a></div><div id="page-name-mask"><span id="page_name"><a id="page-name-text"><span>Linux 笔记：Shell 基础与 Shell 编程</span></a></span></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder"></i> <span>分类</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/friends/"><i class="fa-fw fas fa-star"></i> <span>动态</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-face-laugh"></i> <span>友链</span></a></li><li><a class="site-page child" href="/bb/"><i class="fa-fw fas fa-bullhorn"></i> <span>哔哔</span></a></li><svg class="PopoverPointer" height="12.998751" viewBox="0 0 46.978001 12.998751" width="46.978001" xmlns="http://www.w3.org/2000/svg"><path d="m45.748 12.9978c.41-5e-4.82-10e-4 1.23-10e-4l-3.712-10e-5C42.791 12.995 42.316 12.9919 41.841 12.9868 40.202 12.9688 38.368 12.9433 36.773 12.3418 35.05 11.6918 33.909 10.5552 32.761 9.2177 32.054 8.3939 30.762 6.7705 29.909 5.6987 29.766 5.5188 29.635 5.3545 29.522 5.2121 29.446 5.1172 29.362 5.0113 29.271 4.8973 28.587 4.0355 27.528 2.7027 26.917 2.0166 26.047 1.039 24.972 0 23.477 0 21.983 0 20.908 1.039 20.039 2.0156 19.44 2.6881 18.41 3.9836 17.724 4.8461c-.106.1333-.204.2563-.29.365-.1.1255-.213.2679-.337.423-.851 1.0702-2.18 2.7424-2.902 3.5826-1.15 1.3375-2.289 2.4741-4.011 3.1241-1.596.6-3.431.627-5.069.645-.489.0053-.979.0084-1.469.0101L0 12.9958c.403 0 .805 5e-4 1.208.001.813 9e-4 1.625.0019 2.438-9e-4l39.62 8e-4c.827.003 1.655.0021 2.482.0011z"></path></svg></ul></div><div class="menus_item"><a class="site-page" href="/about/"><span>关于</span></a></div></div></div><div id="nav-right"><div id="search-button"><a class="nav-rightbutton site-page social-icon search" title="搜索"><i class="fas fa-search fa-fw"></i></a></div><div id="up_top_button"><a class="nav-rightbutton site-page up_top" onclick="btf.scrollToDest(0,500)" title="回到顶部"><i class="fas fa-arrow-up fa-fw"></i></a></div><div id="travellings_button"><a class="nav-rightbutton site-page" target="_blank" href="https://travellings.link/" rel="noopener nofollow noopener" title="随机前往一个开往项目网站"><i class="fas fa-subway fa-fw"></i></a></div><div id="toggle-menu"><a class="nav-rightbutton site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-cover"><img class="cover" id="post-cover-img" src="https://th.wallhaven.cc/small/4g/4gg2oq.jpg" alt="cover"></div><div id="post-info"><h1 class="post-title">Linux 笔记：Shell 基础与 Shell 编程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">更新于</span><time datetime="2022-07-06T02:23:01.000Z" title="更新于 7 月 06 日 10:23:01">7 月 06 日</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>33分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="历史命令与命令补全">历史命令与命令补全</h2><p><code>history</code>：历史命令</p><p><code>-c</code>：清空历史</p><p><code>-w</code>：把内存中的历史命令写入历史命令文件中，<code>~/.bash_history</code>（内存中的历史命令不会立马保存到文件中）</p><p>历史命令默认保存 1000 条，可以更改配置文件中的 <code>HISTSIZE</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> ~/.bashrc | grep HIS</span></span><br><span class="line">HISTCONTROL=ignoreboth</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> setting <span class="built_in">history</span> length see HISTSIZE and HISTFILESIZE <span class="keyword">in</span> bash(1)</span></span><br><span class="line">HISTSIZE=1000</span><br><span class="line">HISTFILESIZE=2000</span><br></pre></td></tr></table></figure><p><code>!n</code>：重复执行第 n 条历史命令，先用 <code>history</code> 查看条数</p><p><code>!!</code>：重复执行上条历史命令</p><p><code>!xxx</code>：重复执行最后一条以 xxx 开头的命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">!<span class="built_in">echo</span></span></span><br><span class="line">echo &quot;alias ls=&#x27;ls -lh&#x27;&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure><p>Bash 中，命令与目录均可以用 <code>Tab</code> 键即可补全。</p><h2 id="脚本执行">脚本执行</h2><ol><li><p>赋予执行权限，通过绝对路径或相对路径执行</p><p><code>chmod 755 xx.sh</code></p><p><code>./xx.sh</code></p></li><li><p>通过 bash 直接执行脚本，不需要执行权限</p><p><code>bash xx.sh</code></p></li></ol><h2 id="别名与快捷键">别名与快捷键</h2><h3 id="别名">别名</h3><p><code>alias 别名='原命令'</code></p><p><code>unalias 别名</code>：取消别名</p><p><code>\ 命令</code>：忽略别名执行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">alias</span></span></span><br><span class="line">alias grep=&#x27;grep --color=auto&#x27;</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br></pre></td></tr></table></figure><p>命令行中定义的别名重启即失效，需要写入环境变量配置文件才能永久生效，如 <code>~/.bashrc</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;alias ls=&#x27;ls -lh&#x27;&quot;</span> &gt;&gt; ~/.bashrc</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">. ~/.bashrc</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">alias</span></span></span><br><span class="line">alias ls=&#x27;ls -lh&#x27;</span><br></pre></td></tr></table></figure><p>命令执行顺序</p><ol><li><p>通过相对路径或绝对路径调用</p></li><li><p>别名</p></li><li><p>Bash 内部命令，如 <code>cd</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">whereis <span class="built_in">ls</span></span></span><br><span class="line">ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">whereis <span class="built_in">cd</span></span></span><br><span class="line">cd:</span><br></pre></td></tr></table></figure></li><li><p><code>PATH</code> 环境变量定义的目录中查找到的第一个命令</p></li></ol><h3 id="Bash-常用快捷键">Bash 常用快捷键</h3><p>常用的</p><p><code>Ctrl+A</code>：光标移到开头</p><p><code>Ctrl+E</code>：光标移到结尾</p><p><code>Ctrl+C</code>：强制终止当前命令</p><p><code>Ctrl+L</code>：清屏，相当于 <code>clear</code></p><p><code>Ctrl+U</code>：删除或剪切光标之前输入的命令</p><p><code>Ctrl+K</code>：删除或剪切光标之后输入的命令</p><p><code>Ctrl+Y</code>：粘贴 <code>Ctrl+U</code> 或 <code>Ctrl+K</code> 剪切的内容</p><p><code>Ctrl+R</code>：在历史命令中搜索</p><p><code>Ctrl+D</code>：退出当前终端</p><h2 id="输入输出重定向">输入输出重定向</h2><h3 id="输出重定向">输出重定向</h3><p>Linux 中标准的输入输出和标准错误输出：</p><table><thead><tr><th>设备</th><th>文件名</th><th>文件描述符</th><th>类型</th></tr></thead><tbody><tr><td>键盘</td><td><code>/dev/stdin</code></td><td><code>0</code></td><td>标准输入</td></tr><tr><td>显示器</td><td><code>/dev/stdout</code></td><td><code>1</code></td><td>标准输出</td></tr><tr><td>显示器</td><td><code>/dev/stderr</code></td><td><code>2</code></td><td>标准错误输出</td></tr></tbody></table><p>正常情况下，Shell 通过显示器输出命令返回的内容，可以通过重定向将其存入文件。</p><ol><li><p>将正确输出重定向至文件</p><p><code>ls &gt; file</code>，<code>ls &gt;&gt; file</code>（追加写入）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">a  b  date_now</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &gt; right</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> right</span> </span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">date_now</span><br><span class="line">right</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &gt; /dev/null <span class="comment"># 输出丢进黑洞</span></span></span><br></pre></td></tr></table></figure></li><li><p>将错误输出重定向至文件</p><p><code>lssss 2&gt; file_error</code>，注意 2 和 &gt; 之间<strong>没有空格</strong></p><p><code>lssss 2&gt;&gt; file_error</code>（追加写入）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lssss 2&gt; file_error</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file_error</span> </span><br><span class="line">lssss: command not found</span><br></pre></td></tr></table></figure></li><li><p>将正确和错误输出同时重定向至文件</p><p><code>ls &gt; file 2&gt;&amp;1</code>，<code>ls &gt;&gt; file 2&gt;&amp;1</code>（追加写入）</p><p>或 <code>ls &amp;&gt; file</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &gt; file 2&gt;&amp;1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">file</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lss &gt; file 2&gt;&amp;1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file</span></span><br><span class="line">Command &#x27;lss&#x27; not found, but there are 15 similar ones.</span><br></pre></td></tr></table></figure></li><li><p>将正确和错误输出分开重定向至文件</p><p><code>ls &gt; right 2&gt; error</code>，<code>ls &gt;&gt; right 2&gt;&gt; error</code>（追加写入）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &gt; right 2&gt; error</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> right</span> </span><br><span class="line">right</span><br><span class="line">testfile</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> error</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lss &gt; right 2&gt; error</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> right</span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> error</span></span><br><span class="line">Command &#x27;lss&#x27; not found, but there are 15 similar ones.</span><br></pre></td></tr></table></figure></li></ol><h3 id="输入重定向">输入重定向</h3><p>使用不多，了解即可。</p><p><code>wc [选项] [文件名]</code></p><p><code>-c</code>：统计字节数</p><p><code>-w</code>：统计单词数</p><p><code>-l</code>：统计行数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Ctrl + D 结束输入，分别为行数、单词数、字节数</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span></span></span><br><span class="line">my pony is a cat</span><br><span class="line">my cat is a pony</span><br><span class="line">      2      10      34</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">统计文件的行数、单词数、字节数</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> testfile</span></span><br><span class="line">dasd</span><br><span class="line">asdas</span><br><span class="line">asdasd sdc sdc sdc</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> testfile</span></span><br><span class="line"> 3  6 30 testfile</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> -w testfile</span></span><br><span class="line">6 testfile</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> -l testfile</span></span><br><span class="line">3 testfile</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> &lt; testfile</span></span><br><span class="line"> 3  6 30</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> &lt;&lt; <span class="string">hello</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">12</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">12112</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">121</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">hello</span> <span class="comment"># 直到输入 hello 才结束统计</span></span></span><br><span class="line">      3       3      13</span><br></pre></td></tr></table></figure><h2 id="多命令顺序执行与管道符">多命令顺序执行与管道符</h2><h3 id="多命令">多命令</h3><table><thead><tr><th>符号</th><th>格式</th><th>作用</th></tr></thead><tbody><tr><td><code>;</code></td><td><code>ls;date</code></td><td>顺序执行，无逻辑关系，仅连接作用</td></tr><tr><td><code>&amp;&amp;</code></td><td><code>make &amp;&amp; make install</code></td><td>命令 1 成功执行后才会执行命令 2</td></tr><tr><td>`</td><td></td><td>`</td></tr></tbody></table><p>例：<code>;</code></p><p>磁盘复制命令：<code>dd</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">date</span>;<span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=./testfile bs=1k count=102400;<span class="built_in">date</span></span></span><br><span class="line">Sun Jul  3 09:01:03 AM CST 2022</span><br><span class="line">102400+0 records in</span><br><span class="line">102400+0 records out</span><br><span class="line">104857600 bytes (105 MB, 100 MiB) copied, 0.19336 s, 542 MB/s</span><br><span class="line">Sun Jul  3 09:01:03 AM CST 2022</span><br></pre></td></tr></table></figure><p>例：<code>&amp;&amp;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span></span></span><br><span class="line">linux_learn  testfile</span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lsssss &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span></span></span><br><span class="line">lsssss: command not found</span><br></pre></td></tr></table></figure><p>例：<code>||</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> || <span class="built_in">echo</span> <span class="built_in">yes</span></span></span><br><span class="line">linux_learn  testfile</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lssss || <span class="built_in">echo</span> no</span></span><br><span class="line">lssss: command not found</span><br><span class="line">no</span><br></pre></td></tr></table></figure><p><code>命令 &amp;&amp; echo yes || echo no</code>，判断命令是否正确执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">linux_learn  testfile</span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lssss &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">lssss: command not found</span><br><span class="line">no</span><br></pre></td></tr></table></figure><h3 id="管道符">管道符</h3><p>格式：<code>命令1 | 命令2</code>，命令 1 的<strong>正确输出</strong>作为命令 2 的<strong>操作对象</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/passwd | grep -n <span class="string">&#x27;root&#x27;</span></span></span><br><span class="line">1:root:x:0:0:root:/root:/bin/bash</span><br></pre></td></tr></table></figure><p><code>grep [选项] '搜索内容' 文件名</code></p><p><code>-i</code>：忽略大小写</p><p><code>-n</code>：输出行号</p><p><code>-v</code>：反向查找</p><p><code>--color=auto</code>：关键字高亮（已在 <code>.bashrc</code> 中设置别名）</p><h2 id="通配符及特殊符号">通配符及特殊符号</h2><h3 id="通配符">通配符</h3><p>用来匹配<strong>文件名</strong>，不同于正则表达式。</p><table><thead><tr><th>通配符</th><th>作用</th></tr></thead><tbody><tr><td><code>？</code></td><td>任意一个字符</td></tr><tr><td><code>*</code></td><td>0 个或任意多个字符，即任何内容</td></tr><tr><td><code>[]</code></td><td>匹配中括号中的任意一个字符。<code>[abc]</code>：a 或 b 或 c</td></tr><tr><td><code>[-]</code></td><td>匹配中括号中范围内的一个字符。<code>[a-c]</code>：a 或 b 或 c</td></tr><tr><td><code>[^]</code></td><td>逻辑非，排除此范围内的一个字符。<code>[^0-9]</code>：不是数字</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">012  0abc  abc  abcd</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> ?abc</span></span><br><span class="line">0abc</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> *abc</span></span><br><span class="line">0abc  abc</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> *abc*</span></span><br><span class="line">0abc  abc  abcd</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> [0-9]*</span></span><br><span class="line">012  0abc</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> [^0-9]*</span></span><br><span class="line">abc  abcd</span><br></pre></td></tr></table></figure><h3 id="Bash-中常见特殊符号">Bash 中常见特殊符号</h3><table><thead><tr><th>符号</th><th>作用</th></tr></thead><tbody><tr><td><code>''</code></td><td>单引号中的所有特殊符号都没有特殊含义，如：<code>$</code> ```</td></tr><tr><td><code>&quot;&quot;</code></td><td>双引号中除 <code>$</code> <code>\</code> ``` 外，均无特殊含义，分别为调用变量值、转义符、引用命令</td></tr><tr><td>``</td><td>反引号中的内容是系统命令，在 Bash中先执行它。与 <code>$()</code> 作用一致。</td></tr><tr><td><code>$()</code></td><td>与反引号作用一致，用来引用系统命令。</td></tr><tr><td><code>#</code></td><td>在 shell 脚本中，<code>#</code> 开头表示注释。</td></tr><tr><td><code>$</code></td><td>用于调用变量值，如调用 <code>name</code> 变量，<code>$name</code>。</td></tr><tr><td><code>\</code></td><td>转义符，在 <code>\</code> 之后的字符失去特殊含义，变为普通字符。</td></tr></tbody></table><p>例：<code>$</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">name=tim</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$name</span></span></span><br><span class="line">tim</span><br></pre></td></tr></table></figure><p>例：<code>''</code> <code>&quot;&quot;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">test</span>=1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$test</span>&quot;</span></span></span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&#x27;$test&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">test</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$test</span></span></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>例：<code>$()</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&#x27;$(date)&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="built_in">date</span>)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>&quot;</span></span></span><br><span class="line">Sun Jul  3 09:41:34 AM CST 2022</span><br></pre></td></tr></table></figure><p>例：<code>\</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$name</span></span></span><br><span class="line">tim</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> \<span class="variable">$name</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">name</span></span><br></pre></td></tr></table></figure><h2 id="Bash-变量">Bash 变量</h2><p>Bash 变量规则</p><ul><li><p>变量名同其他编程语言，不能数字开头</p></li><li><p>Bash 中默认变量类型为<strong>字符串</strong>，如果进行数值运算，则必须指定变量类型为数值型</p></li><li><p>变量用等号连接，左右两侧不能加空格</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">a = 1</span></span><br><span class="line">a: command not found</span><br></pre></td></tr></table></figure></li><li><p>变量值若有空格，需要用引号括起来</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">a=<span class="string">&#x27;1 1 1&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$a</span></span></span><br><span class="line">1 1 1</span><br></pre></td></tr></table></figure></li><li><p>变量值中可以使用 <code>\</code> 转义</p></li><li><p>变量可以叠加，需要用 <code>&quot;$变量&quot;</code> 或 <code>$&#123;变量&#125;</code> 的形式</p></li><li><p>可以把命令结果作为值赋给变量，需要用反引号或 <code>$()</code> 包含命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">a=$(<span class="built_in">date</span>)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$a</span></span></span><br><span class="line">Sun Jul 3 02:15:57 PM CST 2022</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">a=`<span class="built_in">date</span>`</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$a</span></span></span><br><span class="line">Sun Jul 3 02:16:12 PM CST 2022</span><br></pre></td></tr></table></figure></li><li><p>环境变量名建议大写，便于区分</p></li></ul><p>变量分类</p><ul><li>用户自定义变量</li><li>环境变量：主要保存和操作系统环境相关的数据</li><li>位置参数变量：主要用来向脚本传递参数或数据，变量名不能自定义，变量的作用是固定的</li><li>预定义变量：Bash 中已经定义好的变量，变量名不能自定义，变量的作用也是固定的</li></ul><h3 id="用户自定义变量">用户自定义变量</h3><p>用户自定义变量，也叫本地变量</p><p>变量定义：<code>str1='123'</code></p><p>变量调用：<code>$str1</code></p><p>变量叠加：<code>str1=&quot;$str1&quot;456</code> 或 <code>str1=$&#123;str1&#125;456</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">str1=<span class="string">&#x27;123&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$str1</span></span></span><br><span class="line">123</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">str1=<span class="string">&quot;<span class="variable">$str1</span>&quot;</span>456</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$str1</span></span></span><br><span class="line">123456</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">str1=<span class="variable">$&#123;str1&#125;</span>789</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$str1</span></span></span><br><span class="line">123456789</span><br></pre></td></tr></table></figure><p>变量查看：<code>set</code>（所有变量）</p><p>变量删除：<code>set str1</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">set</span> | grep str1</span></span><br><span class="line">str1=123456789</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">unset</span> str1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">set</span> | grep str1</span></span><br><span class="line">_=str1</span><br></pre></td></tr></table></figure><h3 id="环境变量">环境变量</h3><p>用户自定义变量只在当前 shell 生效，而环境变量会在当前 shell 和此 shell 的子 shell 中生效；如果将环境变量写入配置文件，则此环境变量会在所有 shell 中生效。</p><p>子 shell 的定义</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pstree</span></span><br><span class="line">init─┬─init───init───bash───pstree</span><br><span class="line">     └─2*[&#123;init&#125;]</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bash</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pstree</span></span><br><span class="line">init─┬─init───init───bash───bash───pstree</span><br><span class="line">     └─2*[&#123;init&#125;]</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bash</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pstree</span></span><br><span class="line">init─┬─init───init───bash───bash───bash───pstree</span><br><span class="line">     └─2*[&#123;init&#125;]</span><br></pre></td></tr></table></figure><p>设置环境变量：<code>export 变量名=变量值</code></p><p>将已有变量设置为环境变量：<code>export 变量名</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">name=xiaoming</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">export</span> gender=man</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">age=18</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">export</span> age</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pstree</span></span><br><span class="line">init─┬─init───init───bash───pstree</span><br><span class="line">     └─2*[&#123;init&#125;]</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bash</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pstree</span></span><br><span class="line">init─┬─init───init───bash───bash───pstree</span><br><span class="line">     └─2*[&#123;init&#125;]</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$name</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$age</span></span></span><br><span class="line">18</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$gender</span></span></span><br><span class="line">man</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">本地变量只在当前 shell 生效，环境变量在子 shell 中也生效</span></span><br></pre></td></tr></table></figure><p>查询环境变量：<code>env</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">env</span></span></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">WSL_DISTRO_NAME=Ubuntu-22.04</span><br><span class="line">gender=man</span><br><span class="line">age=18</span><br></pre></td></tr></table></figure><p>删除环境变量：<code>unset 变量名</code></p><h4 id="常见环境变量">常见环境变量</h4><p><code>PATH</code>：冒号分割的文件路径</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$PATH</span></span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Intel/Shared Libraries/redist/intel64/compiler:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Users/liuao/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/dotnet/:/mnt/c/R/Java/jre1.8.0_333/bin:/mnt/c/Users/liuao/AppData/Local/Programs/Python/Python310/Scripts/:/mnt/c/Users/liuao/AppData/Local/Programs/Python/Python310/:/mnt/c/Users/liuao/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/liuao/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/Bandizip/:/mnt/c/Users/liuao/AppData/Local/GitHubDesktop/bin:/snap/bin</span><br></pre></td></tr></table></figure><p>输入命令时，系统会在 <code>PATH</code> 定义的路径中搜索命令并执行，省去了输入绝对路径的麻烦。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">which</span> <span class="built_in">ls</span></span></span><br><span class="line">/usr/bin/ls</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">/usr/bin/ls</span></span><br><span class="line">linux_learn  testfile</span><br></pre></td></tr></table></figure><p>一般习惯把可执行文件的路径追加到 <code>PATH</code> 中，这样便可以直接执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PATH=&quot;$PATH&quot;:[路径]</span><br><span class="line">PATH=$&#123;PATH&#125;:[路径]</span><br></pre></td></tr></table></figure><p><code>PS1</code>：定义系统提示符的变量</p><p><code>$</code>：分别表示用户，主机，路径，普通用户，可自定义格式</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$PS1</span></span></span><br><span class="line">\[\e]0;\u@\h: \w\a\]$&#123;debian_chroot:+($debian_chroot)&#125;\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">PS1=<span class="string">&#x27;\u@\t \# \h &#x27;</span></span></span><br><span class="line">aohui@15:13:51 4 lah-PC</span><br></pre></td></tr></table></figure><h3 id="位置参数变量">位置参数变量</h3><table><thead><tr><th>变量</th><th>作用</th></tr></thead><tbody><tr><td><code>$n</code></td><td><code>$0</code> 表示命令本身，<code>$1-9</code> 表示第 1-9 个参数，10 以上要括起来，<code>$&#123;10&#125;</code></td></tr><tr><td><code>$*</code></td><td>代表命令中的所有参数，看成一个整体</td></tr><tr><td><code>$@</code></td><td>代表命令中的所有参数，参数间独立</td></tr><tr><td><code>$#</code></td><td>命令中参数个数</td></tr></tbody></table><p>例：<code>$n</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> arg1.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo $0</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">echo $3</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg1.sh</span></span><br><span class="line">./arg1.sh # $0 是命令本身</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg1.sh 1 2 3 4</span></span><br><span class="line">./arg1.sh</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> arg2.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo $(($1+$2)) # 数值运算要用 $(()) 括起来</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg2.sh 1 2</span></span><br><span class="line">3</span><br></pre></td></tr></table></figure><p>例：<code>$* $@ $#</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> arg3.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo $#</span><br><span class="line">echo $*</span><br><span class="line">echo $@</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg3.sh 1 2 3 4 5 6</span></span><br><span class="line">6</span><br><span class="line">1 2 3 4 5 6</span><br><span class="line">1 2 3 4 5 6</span><br></pre></td></tr></table></figure><p><code>$*</code> 和 <code>$@</code> 的区别：<code>$*</code> 把所有参数看成一个整体，<code>$@</code> 每个参数单独区别</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> arg4.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for i in &quot;$*&quot;</span><br><span class="line">        do</span><br><span class="line">                echo $i</span><br><span class="line">        done</span><br><span class="line">for j in &quot;$@&quot;</span><br><span class="line">        do</span><br><span class="line">                echo $j</span><br><span class="line">        done</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg4.sh 1 2 3 4</span></span><br><span class="line">1 2 3 4</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure><h3 id="预定义变量">预定义变量</h3><p>位置参数变量是预定义变量的一种。</p><table><thead><tr><th>变量</th><th>作用</th></tr></thead><tbody><tr><td><code>&amp;?</code></td><td>上一条命令的执行情况，0：正确执行，不同错误返回不同值</td></tr><tr><td><code>$$</code></td><td>当前进程的 PID 号</td></tr><tr><td><code>$!</code></td><td>后台运行的最后一个进程的 PID 号</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> arg5.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo $$</span><br><span class="line">find hello.sh &amp;</span><br><span class="line">echo $!</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg5.sh</span></span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">find: ‘hello.sh’: No such file or directory</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">130</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">arg1.sh  arg2.sh  arg3.sh  arg4.sh  arg5.sh  linux_learn  testfile</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">0</span><br></pre></td></tr></table></figure><h3 id="键盘输入">键盘输入</h3><p>比用</p><p>位置参数变量接收输入信息更加直观。</p><p><code>read [选项] 变量</code></p><p><code>-t</code>：时间限制，秒</p><p><code>-p</code>：输入提示</p><p><code>-s</code>：隐藏输入信息</p><p><code>-n</code>：限制输入字符数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> arg5.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">read -t 30 -p &quot;Input your name: &quot; name</span><br><span class="line">echo $name</span><br><span class="line"></span><br><span class="line">read -t 30 -s -p &quot;Input your age: &quot; age</span><br><span class="line">echo -e &quot;\n&quot;</span><br><span class="line">echo $age</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./arg5.sh</span></span><br><span class="line">Input your name: nb</span><br><span class="line">nb</span><br><span class="line">Input your age:</span><br><span class="line"></span><br><span class="line">25</span><br></pre></td></tr></table></figure><h2 id="数值运算与运算符">数值运算与运算符</h2><h3 id="数值运算">数值运算</h3><p>Bash 中默认变量为字符串型，不能进行数值运算</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">a=1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">b=2</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$a</span>+<span class="variable">$b</span></span></span><br><span class="line">1+2</span><br></pre></td></tr></table></figure><h4 id="方法-1">方法 1</h4><p><code>declare</code>：声明变量的类型</p><p><code>-</code>：给变量设定类型属性</p><p><code>+</code>：取消变量的类型属性</p><p><code>-i</code>：将变量声明为整数型</p><p><code>-x</code>：将变量声明为环境变量</p><p><code>-p</code>：显示变量被声明的类型</p><p><code>declare -i c=$a+$b</code> 即可。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">declare</span> -p a</span></span><br><span class="line">declare -- a=&quot;1&quot;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">declare</span> -i a</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">declare</span> -p a</span></span><br><span class="line">declare -i a=&quot;1&quot;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">declare</span> -x a</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">declare</span> -p a</span></span><br><span class="line">declare -ix a=&quot;1&quot;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">declare</span> -i c=<span class="variable">$a</span>+<span class="variable">$b</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$c</span></span></span><br><span class="line">3</span><br></pre></td></tr></table></figure><h4 id="方法-2">方法 2</h4><p><code>expr</code> 或 <code>let</code>（不常用）</p><p><code>+</code> 号左右空格不能省略</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">d=$(<span class="built_in">expr</span> <span class="variable">$a</span> + <span class="variable">$b</span>)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$d</span></span></span><br><span class="line">3</span><br></pre></td></tr></table></figure><h4 id="方法-3">方法 3</h4><p><code>$(())</code> 或 <code>$[]</code>（常用）</p><p>总结：<code>$</code>，表示变量值；<code>$()</code>，表示系统命令；<code>$(())</code>，表示数值运算</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">f=$((<span class="variable">$a</span>+<span class="variable">$b</span>))</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$f</span></span></span><br><span class="line">3</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">g=$[<span class="variable">$a</span>+<span class="variable">$b</span>]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$d</span></span></span><br><span class="line">3</span><br></pre></td></tr></table></figure><h3 id="运算符">运算符</h3><p><code>$(())</code> 包起来即可，里面正常写算式，通用优先级。</p><h3 id="变量测试与内容替换">变量测试与内容替换</h3><table><thead><tr><th>变量置换方式</th><th><code>y</code> 不存在</th><th><code>y</code> 为空</th><th><code>y</code> 不为空</th></tr></thead><tbody><tr><td><code>x=$&#123;y-new&#125;</code></td><td><code>x=new</code></td><td><code>x</code> 为空</td><td><code>x=$y</code></td></tr><tr><td>…</td><td></td><td></td><td></td></tr></tbody></table><p>内容太多，容易记混，遇到查表即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">unset</span> y</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">x=<span class="variable">$&#123;y-new&#125;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$x</span></span></span><br><span class="line">new</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">y=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">x=<span class="variable">$&#123;y-new&#125;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$x</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">y=<span class="string">&quot;old&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">x=<span class="variable">$&#123;y-new&#125;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$x</span></span></span><br><span class="line">old</span><br></pre></td></tr></table></figure><h2 id="环境变量配置文件">环境变量配置文件</h2><p>将环境变量写入相应配置文件中，便于在所有 shell 中生效。</p><p>修改环境变量后，<code>source 配置文件</code> 或 <code>. 配置文件</code>，不用重新登录即可使配置文件生效。</p><p>默认的系统环境变量主要有：<code>PATH</code>、<code>HISTSIZE</code>、<code>PS1</code>、<code>HOSTNAME</code>等。</p><p>环境变量配置文件类型：</p><ul><li><code>/etc/profile</code></li><li><code>/etc/profile.d/*.sh</code></li><li><code>/etc/bashrc</code></li><li><code>~/.bash_profile</code></li><li><code>~/.bashrc</code></li></ul><p>前三个对所有用户均生效，后两个只对当前用户生效。</p><h3 id="配置文件作用">配置文件作用</h3><p>配置文件的调用顺序</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[&quot;/etc/profile&quot;] --&gt;B[&quot;~/.bash_profile&quot;]</span><br><span class="line">    B --&gt; C[&quot;~/.bashrc&quot;]</span><br><span class="line">    C --&gt; D[&quot;/etc/bashrc&quot;]</span><br><span class="line">    D --&gt; E[命令提示符]</span><br><span class="line">    A --&gt; F[&quot;/etc/profile.d/*.sh&quot;]</span><br><span class="line">    D --&gt; F</span><br><span class="line">    F --&gt; G[&quot;/etc/profile.d/lang.sh&quot;]</span><br><span class="line">    G --&gt; H[&quot;/etc/sysc config/i18n&quot;]</span><br></pre></td></tr></table></figure><p><code>/etc/profile</code>：shell 登录即读取，作用如下：</p><ul><li><p>定义 USER 变量</p></li><li><p>LOGNAME</p></li><li><p>MAIL</p></li><li><p>PATH</p></li><li><p>HOSTNAME</p></li><li><p>HISTSIZE</p></li><li><p>unmask</p></li><li><p>调用 <code>/etc/profile.d/*.sh</code> 中的所有文件</p></li></ul><p><code>~/.bash_profile</code> 作用：</p><ul><li><p>调用 <code>~/.bashrc</code></p></li><li><p>在 <code>PATH</code> 变量后加入了 <code>$HOME/bin</code> 目录</p></li></ul><p><code>~/.bashrc</code> 作用：</p><ul><li><p>定义别名</p></li><li><p>调用 <code>/etc/bashrc</code></p></li></ul><p><code>/etc/bashrc</code>：无 login 的 shell 读取（子 shell）</p><ul><li>PS1</li><li>umask</li><li>PATH</li><li>调用 <code>/etc/profile.d/*.sh</code> 中的所有文件</li></ul><p>越往后的配置文件优先级越高</p><h3 id="其他环境配置文件">其他环境配置文件</h3><p>注销生效的配置文件 ：<code>~/.bash_logout</code>，如注销后清空历史即可将命令写入该文件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> ~/.bash_logout</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~/.bash_logout: executed by bash(1) when login shell exits.</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">when leaving the console clear the screen to increase privacy</span></span><br><span class="line"></span><br><span class="line">if [ &quot;$SHLVL&quot; = 1 ]; then</span><br><span class="line">    [ -x /usr/bin/clear_console ] &amp;&amp; /usr/bin/clear_console -q</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>历史命令：<code>~/.bash_history</code>，排错时使用。</p><p>终端登录信息</p><p>本地终端：<code>/etc/issue</code>，远程登录无效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/issue</span></span><br><span class="line">Ubuntu 22.04 LTS \n \l</span><br></pre></td></tr></table></figure><p>远程登录：<code>/etc/issue.net</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/issue.net</span></span><br><span class="line">Ubuntu 22.04 LTS</span><br></pre></td></tr></table></figure><p>登录后欢迎信息：<code>/etc/motd</code></p><h2 id="正则表达式">正则表达式</h2><p>正则表达式与通配符（<code>* ? []</code>）的区别</p><ul><li><p>正则表达式用于匹配文件中的字符串，<code>grep</code>、<code>awk</code>、<code>sed</code> 等命令支持，包含匹配</p></li><li><p>通配符用来匹配文件名，<code>ls</code>、<code>find</code>、<code>cp</code> 支持，且不支持正则，完全匹配</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">touch</span> aa aabb</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> aa</span></span><br><span class="line">aa</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> aa*</span></span><br><span class="line">aa  aabb</span><br></pre></td></tr></table></figure></li></ul><h3 id="语法">语法</h3><p>基础正则表达式</p><table><thead><tr><th>操作符</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td><code>.</code></td><td>表示任何单个字符（除换行符）</td><td></td></tr><tr><td><code>[]</code></td><td>给出单个字符的取值范围</td><td><code>[abc]</code>：a 或 b 或 c，<code>[a-z]</code>：a-z 单个字母</td></tr><tr><td><code>[^]</code></td><td>排除此取值范围</td><td><code>[^abc]</code>：非 a 或 b 或 c</td></tr><tr><td><code>*</code></td><td>前一个字符出现 <code>&gt;=0</code> 次</td><td><code>abc*</code>：ab、abc、abcc、abccc 等</td></tr><tr><td><code>\&#123;m\&#125;</code></td><td>前一个字符出现 <code>m</code> 次</td><td><code>ab&#123;2&#125;c</code>：abbc</td></tr><tr><td><code>\&#123;n,\&#125;</code></td><td>前一个字符出现 <code>&gt;=n</code> 次</td><td><code>ab&#123;2,&#125;c</code>：abbc、abbbc、abbbbc 等</td></tr><tr><td><code>\&#123;m,n\&#125;</code></td><td>前一个字符出现 <code>m-n</code> 次（含 <code>n</code>）</td><td><code>ab&#123;1,3&#125;c</code>：abc、abbc、abbbc</td></tr><tr><td><code>^</code></td><td>匹配字符串的开头</td><td><code>^123</code>：字符串以 123 开头</td></tr><tr><td><code>$</code></td><td>匹配字符串的结尾</td><td><code>123$</code>：字符串以 123 结尾</td></tr><tr><td><code>\</code></td><td>转义字符</td><td><code>\.</code>：普通的 .</td></tr></tbody></table><p>拓展正则表达式（使用较少）</p><table><thead><tr><th>操作符</th><th>说明</th><th>例子</th></tr></thead><tbody><tr><td><code>+</code></td><td>前一个字符出现 <code>&gt;=1</code> 次</td><td><code>abc+</code>：abc、abcc、abccc 等</td></tr><tr><td><code>?</code></td><td>前一个字符出现 <code>0</code> 或 <code>1</code> 次</td><td><code>abc?</code>：ab、abc</td></tr><tr><td>`</td><td>`</td><td>左右表达式中的一个</td></tr><tr><td><code>()</code></td><td>分组标记，内部只能使用 <code>\</code></td><td><code>(abc)</code>：abc，`(abc</td></tr></tbody></table><h2 id="字符串处理">字符串处理</h2><h3 id="字符串截取命令">字符串截取命令</h3><h4 id="cut-提取列"><code>cut</code> 提取列</h4><p><code>cut [选项] 文件名</code></p><p><code>-f</code>：列号，提取第几列</p><p><code>-d</code>：分隔符</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Mark</span><br><span class="line">1       Liming  M       86</span><br><span class="line">2       Sc      M       90</span><br><span class="line">3       Gao     M       83</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cut</span> -f 1,2 student.txt</span></span><br><span class="line">ID      Name</span><br><span class="line">1       Liming</span><br><span class="line">2       Sc</span><br><span class="line">3       Gao</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$PATH</span></span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files (x86)/Common Files/Intel/Shared Libraries/redist/intel64/compiler:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Users/liuao/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/dotnet/:/mnt/c/R/Java/jre1.8.0_333/bin:/mnt/c/Users/liuao/AppData/Local/Programs/Python/Python310/Scripts/:/mnt/c/Users/liuao/AppData/Local/Programs/Python/Python310/:/mnt/c/Users/liuao/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/liuao/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/Bandizip/:/mnt/c/Users/liuao/AppData/Local/GitHubDesktop/bin:/snap/bin</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$PATH</span> | <span class="built_in">cut</span> -d : -f 5</span></span><br><span class="line">/sbin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">提取普通用户名</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/passwd | grep /bin/bash</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">aohui:x:1000:1000:aohui:/home/aohui:/bin/bash</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/passwd | grep /bin/bash | grep -v root</span></span><br><span class="line">aohui:x:1000:1000:aohui:/home/aohui:/bin/bash</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> /etc/passwd | grep /bin/bash | grep -v root | <span class="built_in">cut</span> -d : -f 1</span></span><br><span class="line">aohui</span><br></pre></td></tr></table></figure><p>局限：无法提取以多个空格分割的列，单个可以</p><p>需要用 <code>awk</code> 命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h</span></span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdb        251G  1.5G  237G   1% /</span><br><span class="line">none            3.9G  4.0K  3.9G   1% /mnt/wsl</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h | grep /dev/sdb</span></span><br><span class="line">/dev/sdb        251G  1.5G  237G   1% /</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h | grep /dev/sdb | <span class="built_in">cut</span> -f 5</span></span><br><span class="line">/dev/sdb        251G  1.5G  237G   1% /</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h | grep /dev/sdb | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 5</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&#x27;a b c d&#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 2,4</span></span><br><span class="line">b d</span><br></pre></td></tr></table></figure><h4 id="printf-格式化打印"><code>printf</code> 格式化打印</h4><p><code>printf '输出格式' 输出内容</code></p><p><code>%s</code>：输出 n 个字符串</p><p><code>%i</code>：输出 n 个数字的整数</p><p><code>%.nf</code>：输出 n 位小数的浮点数</p><p>常用输出格式：</p><p><code>\r</code>：回车</p><p><code>\n</code>：换行符</p><p><code>\t</code>：制表符</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ printf &#x27;%s\n&#x27; hello world</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">$ printf &#x27;%s\n&#x27; &#x27;hello world&#x27;</span><br><span class="line">hello world</span><br><span class="line">$ printf &#x27;%i\n&#x27; 100</span><br><span class="line">100</span><br><span class="line">$ printf &#x27;%.3f\n&#x27; 100.23355</span><br><span class="line">100.234</span><br></pre></td></tr></table></figure><h4 id="awk-提取列"><code>awk</code> 提取列</h4><p><code>awk '条件1&#123;动作1&#125; 条件2&#123;动作2&#125;…' 文件名</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Mark</span><br><span class="line">1       Liming  M       86</span><br><span class="line">2       Sc      M       90</span><br><span class="line">3       Gao     M       83</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk <span class="string">&#x27;&#123;printf $2 &quot;\t&quot; $4 &quot;\n&quot;&#125;&#x27;</span> student.txt</span></span><br><span class="line">Name    Mark</span><br><span class="line">Liming  86</span><br><span class="line">Sc      90</span><br><span class="line">Gao     83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h</span></span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdb        251G  1.5G  237G   1% /</span><br><span class="line">none            3.9G  4.0K  3.9G   1% /mnt/wsl</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h | awk <span class="string">&#x27;&#123;printf $1 &quot;\t&quot; $5 &quot;\n&quot;&#125;&#x27;</span></span></span><br><span class="line">Filesystem      Use%</span><br><span class="line">/dev/sdb        1%</span><br><span class="line">none    1%</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">df</span> -h | grep /dev/sdb | awk <span class="string">&#x27;&#123;printf $5 &quot;\n&quot;&#125;&#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&#x27;%&#x27;</span> -f 1</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p><code>BEGIN</code>：在读取数据之前执行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk <span class="string">&#x27;BEGIN&#123;printf &quot;Printing!!!\n&quot;&#125; &#123;printf $2 &quot;\t&quot; $4 &quot;\n&quot;&#125;&#x27;</span> student.txt</span></span><br><span class="line">Printing!!!</span><br><span class="line">Name    Mark</span><br><span class="line">Liming  86</span><br><span class="line">Sc      90</span><br><span class="line">Gao     83</span><br></pre></td></tr></table></figure><p><code>FS</code>：指定分隔符</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk <span class="string">&#x27;&#123;FS=&quot;:&quot;&#125; &#123;print $1 &quot;\t&quot; $6&#125;&#x27;</span> /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash # 第一条数据读入后才开始执行动作</span><br><span class="line">daemon  /usr/sbin</span><br><span class="line">bin     /bin</span><br><span class="line">sys     /dev</span><br><span class="line">sync    /bin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123;print $1 &quot;\t&quot; $6&#125;&#x27;</span> /etc/passwd</span></span><br><span class="line">root    /root</span><br><span class="line">daemon  /usr/sbin</span><br><span class="line">bin     /bin</span><br><span class="line">sys     /dev</span><br><span class="line">sync    /bin</span><br></pre></td></tr></table></figure><p><code>END</code>：最后执行动作</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk <span class="string">&#x27;BEGIN&#123;printf &quot;Printing!!!\n&quot;&#125; &#123;printf $2 &quot;\t&quot; $4 &quot;\n&quot;&#125; END&#123;printf &quot;Done!!!\n&quot;&#125;&#x27;</span> student.txt</span></span><br><span class="line">Printing!!!</span><br><span class="line">Name    Mark</span><br><span class="line">Liming  86</span><br><span class="line">Sc      90</span><br><span class="line">Gao     83</span><br><span class="line">Done!!!</span><br></pre></td></tr></table></figure><p>条件判断</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> student.txt | grep -v Name</span></span><br><span class="line">1       Liming  M       86</span><br><span class="line">2       Sc      M       90</span><br><span class="line">3       Gao     M       83</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> student.txt | grep -v Name | awk <span class="string">&#x27;$4&gt;85&#123;print $2 &quot;\t&quot; $4&#125;&#x27;</span></span></span><br><span class="line">Liming  86</span><br><span class="line">Sc      90</span><br></pre></td></tr></table></figure><h4 id="sed-编辑操作"><code>sed</code> 编辑操作</h4><p>轻量级流编辑器，主要用来将数据进行选取、替换、删除、新增。</p><p><code>sed [选项] '[动作]' 文件名</code></p><p>选项</p><ul><li><p><code>-n</code>：只输出经过 sed 命令处理的行</p></li><li><p><code>-e</code>：允许对输入数据应用多条 sed 命令编辑，多条件 <code>;</code> 号分割</p></li><li><p><code>-i</code>：数据修改后不光输出数据，也更改文件的原数据</p></li></ul><p>动作</p><ul><li><code>a\</code>：追加，添加多行时，除最后一行，每行要用 <code>\</code> 表示数据未完结</li><li><code>c\</code>：替换，替换多行时，除最后一行，每行要用 <code>\</code> 表示数据未完结</li><li><code>i\</code>：插入，插入多行时，除最后一行，每行要用 <code>\</code> 表示数据未完结</li><li><code>d</code>：删除，删除指定行</li><li><code>p</code>：打印，输出指定行</li><li><code>s</code>：字符串替换，格式：<code>行范围s/old/new/g</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;2p&#x27;</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Mark</span><br><span class="line">1       Liming  M       86</span><br><span class="line">1       Liming  M       86</span><br><span class="line">2       Sc      M       90</span><br><span class="line">3       Gao     M       83</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed -n <span class="string">&#x27;2p&#x27;</span> student.txt <span class="comment"># 加 -n 才会只输出经过处理后的，一般 p 与 -n 配合</span></span></span><br><span class="line">1       Liming  M       86</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;2,3d&#x27;</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Mark</span><br><span class="line">3       Gao     M       83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;s/M/W/g&#x27;</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Wark</span><br><span class="line">1       Liming  W       86</span><br><span class="line">2       Sc      W       90</span><br><span class="line">3       Gao     W       83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;3s/W/M/g&#x27;</span> student.txt <span class="comment"># 可只替换某一行</span></span></span><br><span class="line">ID      Name    Gender  Wark</span><br><span class="line">1       Liming  W       86</span><br><span class="line">2       Sc      M       90</span><br><span class="line">3       Gao     W       83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;2a hello\</span></span></span><br><span class="line"><span class="string"><span class="language-bash">&gt; world&#x27;</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Wark</span><br><span class="line">1       Liming  W       86</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">2       Sc      W       90</span><br><span class="line">3       Gao     W       83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;2i hello\</span></span></span><br><span class="line"><span class="string"><span class="language-bash">world&#x27;</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Wark</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">1       Liming  W       86</span><br><span class="line">2       Sc      W       90</span><br><span class="line">3       Gao     W       83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;2,3c hello\</span></span></span><br><span class="line"><span class="string"><span class="language-bash">world&#x27;</span> student.txt</span></span><br><span class="line">ID      Name    Gender  Wark</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">3       Gao     W       83</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">多命令同时执行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed -e <span class="string">&#x27;4s/W/M/g;1d&#x27;</span> student.txt</span></span><br><span class="line">1       Liming  W       86</span><br><span class="line">2       Sc      W       90</span><br><span class="line">3       Gao     M       83</span><br></pre></td></tr></table></figure><h3 id="字符串处理命令">字符串处理命令</h3><h4 id="sort-排序"><code>sort</code> 排序</h4><p><code>sort [选项] 文件名</code></p><p><code>-f</code>：忽略大小写</p><p><code>-n</code>：以数值型排序，默认是字符串</p><p><code>-r</code>：反向排序</p><p><code>-t</code>：指定分隔符，默认制表符</p><p><code>-k n[,m]</code>：按照指定字段范围排序。从第 n 字段开始，m 字段结束（默认到行尾）。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> /etc/passwd</span></span><br><span class="line">aohui:x:1000:1000:aohui:/home/aohui:/bin/bash</span><br><span class="line">_apt:x:105:65534::/nonexistent:/usr/sbin/nologin</span><br><span class="line">backup:x:34:34:backup:/var/backups:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -r /etc/passwd</span></span><br><span class="line">www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin</span><br><span class="line">uuidd:x:107:113::/run/uuidd:/usr/sbin/nologin</span><br><span class="line">uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot;:&quot;</span> -k 3,3 /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot;:&quot;</span> -n -k 3,3 /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br></pre></td></tr></table></figure><h4 id="wc-统计"><code>wc</code> 统计</h4><p><code>wc [选项] 文件名</code></p><p><code>-l</code>：行数</p><p><code>-w</code>：单词数</p><p><code>-m</code>：字数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> /etc/passwd</span></span><br><span class="line">  31   43 1635 /etc/passwd</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> -l /etc/passwd</span></span><br><span class="line">31 /etc/passwd</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> -w /etc/passwd</span></span><br><span class="line">43 /etc/passwd</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> -m /etc/passwd</span></span><br><span class="line">1635 /etc/passwd</span><br></pre></td></tr></table></figure><h2 id="条件判断和流程控制">条件判断和流程控制</h2><h3 id="条件判断">条件判断</h3><h4 id="按文件类型判断">按文件类型判断</h4><p>常用的有 4 个</p><ul><li><code>-d 文件</code>：文件是否存在，且为目录</li><li><code>-e 文件</code>：文件是否存在</li><li><code>-f 文件</code>：文件是否存在，且为普通文件</li><li><code>-L 文件</code>：文件是否存在，且为符号链接文件</li></ul><p><code>test [选项] 文件</code> 或 <code>[ [选项] 文件 ]</code>（两端有空格）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">test</span> -d /etc/passwd</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">test</span> -f /etc/passwd</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">0</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">test</span> -e /etc/passwd</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">0</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -e /etc/passwd ]</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -e /etc/passwd ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -d /etc/passwd ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br></pre></td></tr></table></figure><h4 id="按文件权限判断">按文件权限判断</h4><p>常用 3 个</p><p><code>-r 文件</code>：文件是否存在，且有读权限</p><p><code>-w 文件</code>：文件是否存在，且有写权限</p><p><code>-x 文件</code>：文件是否存在，且有执行权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> -l /etc/passwd</span></span><br><span class="line">-rw-r--r-- 1 root root 1635 Jul  2 19:52 /etc/passwd</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只要一个有即为真，不管是所有者、所属组还是其他人，不能判断身份</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -r /etc/passwd ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -w /etc/passwd ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -x /etc/passwd ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -w student.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br></pre></td></tr></table></figure><h4 id="比较两个文件">比较两个文件</h4><p><code>文件1 -nt 文件2</code>：文件 1 是否比文件 2 新</p><p><code>文件1 -ot 文件2</code>：文件 1 是否比文件 2 旧</p><p><code>文件1 -ef 文件2</code>：两个文件的 <code>inode</code> 是否一致，可以用来判断硬链接</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> -l</span></span><br><span class="line">-rw-r--r-- 1 aohui aohui   55 Jul  5 09:30 student2.txt</span><br><span class="line">-rw-r--r-- 1 aohui aohui   55 Jul  4 19:55 student.txt</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ student.txt -nt student2.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ student.txt -ot student2.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ln</span> student.txt stu.txt</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> -li</span></span><br><span class="line">6348 -rw-r--r-- 1 aohui aohui   55 Jul  5 09:30 student2.txt</span><br><span class="line">3616 -rw-r--r-- 2 aohui aohui   55 Jul  4 19:55 student.txt</span><br><span class="line">3616 -rw-r--r-- 2 aohui aohui   55 Jul  4 19:55 stu.txt</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ student.txt -ef stu.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ student.txt -ef student2.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br></pre></td></tr></table></figure><h4 id="比较两个整数">比较两个整数</h4><p><code>整数1 -eq 整数2</code>：整数1 = 整数2 ?</p><p><code>整数1 -ne 整数2</code>：整数1 != 整数2 ?</p><p><code>整数1 -gt 整数2</code>：整数1 &gt; 整数2 ?</p><p><code>整数1 -lt 整数2</code>：整数1 &lt; 整数2 ?</p><p><code>整数1 -ge 整数2</code>：整数1 &gt;= 整数2 ?</p><p><code>整数1 -le 整数2</code>：整数1 &lt;= 整数2 ?</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 1 -lt 2 ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 2 -lt 2 ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 2 -ge 2 ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 2 -le 2 ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 2 -eq 2 ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br></pre></td></tr></table></figure><h4 id="比较两个字符串">比较两个字符串</h4><p><code>-z 字符串</code>：是否为空</p><p><code>-n 字符串</code>：是否非空</p><p><code>字符串1 == 字符串2</code>：两个字符串是否相等</p><p><code>字符串1 != 字符串2</code>：两个字符串是否不相等</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -z <span class="string">&#x27;&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ -z <span class="string">&#x27;111&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ <span class="string">&#x27;11&#x27;</span> == <span class="string">&#x27;2&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br></pre></td></tr></table></figure><h4 id="多重条件判断">多重条件判断</h4><p><code>判断1 -a 判断2</code>：AND</p><p><code>判断1 -o 判断2</code>：OR</p><p><code>!判断</code>：逻辑非</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 2 -gt 1 -a <span class="string">&#x27;11&#x27;</span> == <span class="string">&#x27;2&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[ 2 -gt 1 -a <span class="string">&#x27;11&#x27;</span> == <span class="string">&#x27;11&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">! [ <span class="string">&#x27;1&#x27;</span> == <span class="string">&#x27;1&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">no</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">! [ <span class="string">&#x27;1&#x27;</span> != <span class="string">&#x27;1&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="built_in">yes</span> || <span class="built_in">echo</span> no</span></span><br><span class="line">yes</span><br></pre></td></tr></table></figure><h3 id="流程控制">流程控制</h3><h4 id="if"><code>if</code></h4><p>单分支写法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if [];then</span><br><span class="line">	do something</span><br><span class="line">fi</span><br><span class="line">或</span><br><span class="line">if []</span><br><span class="line">	then</span><br><span class="line">		do something</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>例：判断根分区占用率</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> script.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">rate=$(df -h | grep &#x27;/$&#x27; | awk &#x27;&#123;print $5&#125;&#x27; | cut -d &#x27;%&#x27; -f 1)</span><br><span class="line">if [ $rate -lt 50 ];then</span><br><span class="line">        echo OK!!</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./script.sh</span></span><br><span class="line">OK!!</span><br></pre></td></tr></table></figure><p>双分支写法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if []</span><br><span class="line">	then</span><br><span class="line">		do something</span><br><span class="line">	else</span><br><span class="line">		do something</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>例：备份文件夹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">date=$(date +%y%m%d)</span><br><span class="line">size=$(du -sh /etc)</span><br><span class="line"></span><br><span class="line">if [ -d /tmp/backup ]</span><br><span class="line">        then</span><br><span class="line">                cd /tmp/backup</span><br><span class="line">                echo &quot;Date: $date&quot; &gt; backinfo.txt</span><br><span class="line">                echo &quot;Data size: $size&quot; &gt;&gt; backinfo.txt</span><br><span class="line">                tar -zcf etc_$date.tar.gz /etc backinfo.txt &amp;&gt; /dev/null</span><br><span class="line">                rm backinfo.txt</span><br><span class="line">        else</span><br><span class="line">                mkdir /tmp/backup</span><br><span class="line">                cd /tmp/backup</span><br><span class="line">                echo &quot;Date: $date&quot; &gt; backinfo.txt</span><br><span class="line">                echo &quot;Data size: $size&quot; &gt;&gt; backinfo.txt</span><br><span class="line">                tar -zcf etc_$date.tar.gz /etc backinfo.txt &amp;&gt; /dev/null</span><br><span class="line">                rm backinfo.txt</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>多分支写法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if []</span><br><span class="line">	then</span><br><span class="line">		do something</span><br><span class="line">elif []</span><br><span class="line">	then</span><br><span class="line">		do something</span><br><span class="line">...</span><br><span class="line">else</span><br><span class="line">	do something</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>例：判断用户输入文件的类型</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">read -p &quot;Input a file or dir: &quot; file</span><br><span class="line"></span><br><span class="line">if [ -z $file ] # 先判断是否非空</span><br><span class="line">        then</span><br><span class="line">                echo &quot;ERROR, reinput&quot;</span><br><span class="line">                exit 69 # 以错误1退出</span><br><span class="line">elif [ ! -e $file ] # 判断文件是否存在</span><br><span class="line">        then</span><br><span class="line">                echo &quot;File not exist&quot;</span><br><span class="line">                exit 2</span><br><span class="line">elif [ -f $file ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;A normal file&quot;</span><br><span class="line">elif [ -d $file ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;A dir&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;Other file&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./file.sh</span></span><br><span class="line">Input a file or dir: /etc</span><br><span class="line">A dir</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./file.sh</span></span><br><span class="line">Input a file or dir: /etc/passwd</span><br><span class="line">A normal file</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./file.sh</span></span><br><span class="line">Input a file or dir: sasasa</span><br><span class="line">File not exist</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./file.sh</span></span><br><span class="line">Input a file or dir:</span><br><span class="line">ERROR, reinput</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> $?</span></span><br><span class="line">69</span><br></pre></td></tr></table></figure><h4 id="case"><code>case</code></h4><p>语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">case $v in</span><br><span class="line">	case1)</span><br><span class="line">		do something</span><br><span class="line">		;;</span><br><span class="line">	case2)</span><br><span class="line">		do something</span><br><span class="line">		;;</span><br><span class="line">	*)</span><br><span class="line">		do something</span><br><span class="line">		;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><p>例</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">read -p &quot;Inpuy yes/no: &quot; -t 30 a</span><br><span class="line">case $a in</span><br><span class="line">        &quot;yes&quot;)</span><br><span class="line">                echo yes!</span><br><span class="line">                ;;</span><br><span class="line">        &quot;no&quot;)</span><br><span class="line">                echo no!</span><br><span class="line">                ;;</span><br><span class="line">        *)</span><br><span class="line">                echo error!</span><br><span class="line">                ;;</span><br><span class="line">esac</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./case.sh</span></span><br><span class="line">Inpuy yes/no: no</span><br><span class="line">no!</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./case.sh</span></span><br><span class="line">Inpuy yes/no: yes</span><br><span class="line">yes!</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./case.sh</span></span><br><span class="line">Inpuy yes/no: 11</span><br><span class="line">error!</span><br></pre></td></tr></table></figure><h4 id="for"><code>for</code></h4><p>格式 1</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i in a b c d...</span><br><span class="line">	do</span><br><span class="line">		do something</span><br><span class="line">	done</span><br></pre></td></tr></table></figure><p>格式 2</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ((i=1;i&lt;=100;i=i+1))</span><br><span class="line">	do</span><br><span class="line">		do something</span><br><span class="line">	done</span><br></pre></td></tr></table></figure><p>例：批量压缩文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for file in $(ls ~)</span><br><span class="line">        do</span><br><span class="line">                tar -cf $file.tar $file</span><br><span class="line">        done</span><br></pre></td></tr></table></figure><p>例：指定循环次数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> for1.sh</span></span><br><span class="line">s=0</span><br><span class="line">for ((i=1;i&lt;=100;i++))</span><br><span class="line">        do</span><br><span class="line">                s=$(($s+$i))</span><br><span class="line">        done</span><br><span class="line">echo &quot;s=$s&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./for1.sh</span></span><br><span class="line">s=5050</span><br></pre></td></tr></table></figure><h4 id="while"><code>while</code></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while []</span><br><span class="line">	do</span><br><span class="line">		dosomething</span><br><span class="line">	done</span><br></pre></td></tr></table></figure><p>例：求和</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line"></span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">        do</span><br><span class="line">                s=$(($s+$i))</span><br><span class="line">                i=$(($i+1))</span><br><span class="line">        done</span><br><span class="line">echo &quot;sum = $s&quot;</span><br></pre></td></tr></table></figure><h4 id="until"><code>until</code></h4><p>只要循环判断不成立就一直循环</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until []</span><br><span class="line">	do	</span><br><span class="line">		do something</span><br><span class="line">	done</span><br></pre></td></tr></table></figure><p>例：求和</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line"></span><br><span class="line">until [ $i -gt 100 ] # i &gt; 100 时，循环终止</span><br><span class="line">        do</span><br><span class="line">                s=$(($s+$i))</span><br><span class="line">                i=$(($i+1))</span><br><span class="line">        done</span><br><span class="line">echo &quot;sum = $s&quot;</span><br></pre></td></tr></table></figure><h3 id="的用法总结"><code>$</code> 的用法总结</h3><p>常见用法</p><ol><li>引用 <code>echo $x</code></li><li>位置参数变量 <code>$0 $1-9 $&#123;10&#125;... $* $@ $#</code></li><li>预定义变量 <code>$? $$ $!</code></li><li>数值运算 <code>$&#123;&#123;&#125;&#125; $[]</code></li><li>引用系统命令 <code>echo $(date)</code></li><li>数组索引 <code>$&#123;arr[1]&#125;</code></li></ol><h4 id="shell-数组">shell 数组</h4><p>bash 支持一维数组（不支持多维数组），并且没有限定数组的大小。</p><p>括号表示数组，数值之间用空格分隔：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr=(1 2 3 4)</span><br><span class="line">arr=(</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>或者单独定义：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr[1]=10</span><br><span class="line">arr[2]=20</span><br></pre></td></tr></table></figure><p>使用 <code>$&#123;arr[]&#125;</code> 形式索引，下标从 0 开始：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$&#123;arr[1]&#125;</span></span></span><br><span class="line">20</span><br></pre></td></tr></table></figure><p>获取数组所有元素：<code>$&#123;arr[@]&#125;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$&#123;arr[@]&#125;</span></span></span><br><span class="line">2 10 20 5 6</span><br></pre></td></tr></table></figure><p>获取数组长度：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;#arr[@]&#125;</span><br><span class="line">echo $&#123;#arr[*]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">某个元素长度</span></span><br><span class="line">echo $&#123;#arr[n]&#125;</span><br></pre></td></tr></table></figure><h2 id="Vim-常用操作">Vim 常用操作</h2><p>vim 的三种模式</p><ul><li>命令模式：进入 Vim 后的默认模式</li><li>插入模式：<code>aio</code> 后进入</li><li>编辑模式：命令模式下按 <code>:</code></li></ul><h3 id="插入命令-2">插入命令</h3><p><code>A</code>：行尾插入</p><p><code>I</code>：行首插入</p><p><code>i</code>：光标当前位置插入</p><p><code>o</code>：向下插入一行</p><p><code>O</code>：向上插入一行</p><h3 id="定位命令-2">定位命令</h3><p><code>:set nu</code>：设置行号</p><p><code>:set nonu</code>：取消行号</p><p><code>gg</code>：到第一行</p><p><code>G</code>：到最后一行</p><p><code>nG</code>：到第 n 行</p><p><code>:n</code>：到第 n 行（用得更多）</p><p><code>$</code>：移至行尾</p><p><code>0</code>：移至行首</p><h3 id="删除命令-2">删除命令</h3><p><code>x</code>：删除光标后字符</p><p><code>nx</code>：删除 n 个</p><p><code>dd</code>：删除此行</p><p><code>ndd</code>：删除 n 行</p><p><code>dG</code>：删除光标后所有文字</p><p><code>D</code>：删除光标后到行尾文字</p><p><code>:n1,n2d</code>：删除指定行</p><h3 id="复制剪切命令">复制剪切命令</h3><p><code>yy</code>：复制此行</p><p><code>nyy</code>：复制此行以下 n 行</p><p><code>dd</code>：剪切此行</p><p><code>ndd</code>：剪切此行以下 n 行</p><p><code>p</code>：粘贴至下一行</p><p><code>P</code>：粘贴至上一行</p><h3 id="替换取消命令">替换取消命令</h3><p><code>r</code>：取代光标所在处字符</p><p><code>R</code>：一直替换，ESC 退出</p><p><code>u</code>：撤销上一步</p><h3 id="搜索命令">搜索命令</h3><p><code>/string</code>：搜索关键词</p><p><code>set ic</code>：忽略大小写</p><p><code>set noic</code></p><p><code>n</code>：找下一个</p><p><code>%s/old/new/g</code>：全文替换（<code>c</code>：询问确认）</p><p><code>:n1,n2s/old/new/g</code>：指定行替换</p><h3 id="保存退出命令">保存退出命令</h3><p><code>:w</code>：保存修改</p><p><code>:w newfile</code>：另存为</p><p><code>:wq</code>：保存修改并退出</p><p><code>ZZ</code>：保存修改并退出，快捷键</p><p><code>:q!</code>：不保存修改退出</p><p><code>:wq!</code>：保存修改并退出（root 及所有者可用）</p><h2 id="Vim-使用技巧">Vim 使用技巧</h2><p><code>:r !命令</code>：导入命令的执行结果</p><p><code>:r 文件</code>：导入文件内容</p><p><code>:!命令</code>：暂时退出 vim 执行命令</p><p><code>:map 快捷键 操作</code>：自定义快捷键，如 <code>Cril+/</code> 注释一行：<code>:map ^_ I# &lt;ESC&gt;</code></p><p><code>:n1,n2s/^/# /g</code>：连续注释行</p><p><code>:n1,n2s/# //g</code>：取消注释行</p><p><code>:n1,n2s/^# //g</code>：只取消行首的 <code>#</code></p><p><code>:1,5s/^/\/\//g</code>：<code>//</code> 注释</p><p><code>:1,5s/^\/\///g</code>：取消行首 <code>//</code> 注释</p><p><code>:ab mymail 10001@qq.com</code>：替换字符，输入 <code>mymail</code> 即可替换</p><h2 id="Vim-配置文件">Vim 配置文件</h2><p>配置文件：<code>~/.vimrc</code></p><p>编写时前面不用加 <code>:</code> 号</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:x345242281@outlook.com">Aohui</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://aohuiliu.fun/posts/31168/">https://aohuiliu.fun/posts/31168/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://aohuiliu.fun" target="_blank">AOHUI BLOG.</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Shell/">Shell</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/15547/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">R 学习笔记</div></div></a></div><div class="next-post pull-right"><a href="/posts/44687/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ggplot 中的字体大小、圆点大小和线条粗细探究</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-message fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Aohuiliu</div><div class="author-info__description">珞珈山职业技术学院</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/341395189"><i class="fab fa-bilibili"></i><span>关注 B 站</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/janedut" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://space.bilibili.com/341395189" target="_blank" title="Bilibili"><i class="fab fa-bilibili"></i></a><a class="social-icon" href="mailto:x345242281@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-bars"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%91%BD%E4%BB%A4%E8%A1%A5%E5%85%A8"><span class="toc-number">1.</span> <span class="toc-text">历史命令与命令补全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C"><span class="toc-number">2.</span> <span class="toc-text">脚本执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%AB%E5%90%8D%E4%B8%8E%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">3.</span> <span class="toc-text">别名与快捷键</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%AB%E5%90%8D"><span class="toc-number">3.1.</span> <span class="toc-text">别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bash-%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">3.2.</span> <span class="toc-text">Bash 常用快捷键</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.</span> <span class="toc-text">输入输出重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.1.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.2.</span> <span class="toc-text">输入重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E4%B8%8E%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="toc-number">5.</span> <span class="toc-text">多命令顺序执行与管道符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4"><span class="toc-number">5.1.</span> <span class="toc-text">多命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="toc-number">5.2.</span> <span class="toc-text">管道符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E5%8F%8A%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="toc-number">6.</span> <span class="toc-text">通配符及特殊符号</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">6.1.</span> <span class="toc-text">通配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bash-%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="toc-number">6.2.</span> <span class="toc-text">Bash 中常见特殊符号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash-%E5%8F%98%E9%87%8F"><span class="toc-number">7.</span> <span class="toc-text">Bash 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">7.1.</span> <span class="toc-text">用户自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.</span> <span class="toc-text">环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.1.</span> <span class="toc-text">常见环境变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-number">7.3.</span> <span class="toc-text">位置参数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">7.4.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="toc-number">7.5.</span> <span class="toc-text">键盘输入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.</span> <span class="toc-text">数值运算与运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97"><span class="toc-number">8.1.</span> <span class="toc-text">数值运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-number">8.1.1.</span> <span class="toc-text">方法 1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-2"><span class="toc-number">8.1.2.</span> <span class="toc-text">方法 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-3"><span class="toc-number">8.1.3.</span> <span class="toc-text">方法 3</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.2.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2"><span class="toc-number">8.3.</span> <span class="toc-text">变量测试与内容替换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">9.</span> <span class="toc-text">环境变量配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8"><span class="toc-number">9.1.</span> <span class="toc-text">配置文件作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">9.2.</span> <span class="toc-text">其他环境配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">10.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">10.1.</span> <span class="toc-text">语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86"><span class="toc-number">11.</span> <span class="toc-text">字符串处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="toc-number">11.1.</span> <span class="toc-text">字符串截取命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cut-%E6%8F%90%E5%8F%96%E5%88%97"><span class="toc-number">11.1.1.</span> <span class="toc-text">cut 提取列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printf-%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%89%93%E5%8D%B0"><span class="toc-number">11.1.2.</span> <span class="toc-text">printf 格式化打印</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#awk-%E6%8F%90%E5%8F%96%E5%88%97"><span class="toc-number">11.1.3.</span> <span class="toc-text">awk 提取列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sed-%E7%BC%96%E8%BE%91%E6%93%8D%E4%BD%9C"><span class="toc-number">11.1.4.</span> <span class="toc-text">sed 编辑操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">11.2.</span> <span class="toc-text">字符串处理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sort-%E6%8E%92%E5%BA%8F"><span class="toc-number">11.2.1.</span> <span class="toc-text">sort 排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wc-%E7%BB%9F%E8%AE%A1"><span class="toc-number">11.2.2.</span> <span class="toc-text">wc 统计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">12.</span> <span class="toc-text">条件判断和流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">12.1.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD"><span class="toc-number">12.1.1.</span> <span class="toc-text">按文件类型判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E5%88%A4%E6%96%AD"><span class="toc-number">12.1.2.</span> <span class="toc-text">按文件权限判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6"><span class="toc-number">12.1.3.</span> <span class="toc-text">比较两个文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0"><span class="toc-number">12.1.4.</span> <span class="toc-text">比较两个整数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">12.1.5.</span> <span class="toc-text">比较两个字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">12.1.6.</span> <span class="toc-text">多重条件判断</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">12.2.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if"><span class="toc-number">12.2.1.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#case"><span class="toc-number">12.2.2.</span> <span class="toc-text">case</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for"><span class="toc-number">12.2.3.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#while"><span class="toc-number">12.2.4.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#until"><span class="toc-number">12.2.5.</span> <span class="toc-text">until</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9A%84%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-number">12.3.</span> <span class="toc-text">$ 的用法总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#shell-%E6%95%B0%E7%BB%84"><span class="toc-number">12.3.1.</span> <span class="toc-text">shell 数组</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">13.</span> <span class="toc-text">Vim 常用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%91%BD%E4%BB%A4-2"><span class="toc-number">13.1.</span> <span class="toc-text">插入命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E5%91%BD%E4%BB%A4-2"><span class="toc-number">13.2.</span> <span class="toc-text">定位命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%91%BD%E4%BB%A4-2"><span class="toc-number">13.3.</span> <span class="toc-text">删除命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E5%89%AA%E5%88%87%E5%91%BD%E4%BB%A4"><span class="toc-number">13.4.</span> <span class="toc-text">复制剪切命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E5%8F%96%E6%B6%88%E5%91%BD%E4%BB%A4"><span class="toc-number">13.5.</span> <span class="toc-text">替换取消命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4"><span class="toc-number">13.6.</span> <span class="toc-text">搜索命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E9%80%80%E5%87%BA%E5%91%BD%E4%BB%A4"><span class="toc-number">13.7.</span> <span class="toc-text">保存退出命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">14.</span> <span class="toc-text">Vim 使用技巧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">15.</span> <span class="toc-text">Vim 配置文件</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-list-ol"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/28191/" title="响应更迅速，去除 macOS Dock 栏显示和隐藏的延时"><img src="https://images.unsplash.com/photo-1560858275-933aa173847b?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1632&amp;q=80" onerror='this.onerror=null,this.src="https://fastly.jsdelivr.net/gh/janedut/blog_data@main/img/404.svg"' alt="响应更迅速，去除 macOS Dock 栏显示和隐藏的延时"></a><div class="content"><a class="title" href="/posts/28191/" title="响应更迅速，去除 macOS Dock 栏显示和隐藏的延时">响应更迅速，去除 macOS Dock 栏显示和隐藏的延时</a><time datetime="2022-08-08T07:01:13.000Z" title="发布于 8 月 08 日 15:01:13">8 月 08 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/56172/" title="写在一周年"><img src="https://s2.loli.net/2022/07/29/pgzPG9s8QVRdUky.png" onerror='this.onerror=null,this.src="https://fastly.jsdelivr.net/gh/janedut/blog_data@main/img/404.svg"' alt="写在一周年"></a><div class="content"><a class="title" href="/posts/56172/" title="写在一周年">写在一周年</a><time datetime="2022-07-25T14:20:23.000Z" title="发布于 7 月 25 日 22:20:23">7 月 25 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/19568/" title="Linux 常用命令"><img src="https://s2.loli.net/2022/07/29/pgzPG9s8QVRdUky.png" onerror='this.onerror=null,this.src="https://fastly.jsdelivr.net/gh/janedut/blog_data@main/img/404.svg"' alt="Linux 常用命令"></a><div class="content"><a class="title" href="/posts/19568/" title="Linux 常用命令">Linux 常用命令</a><time datetime="2022-07-12T02:33:23.000Z" title="发布于 7 月 12 日 10:33:23">7 月 12 日</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/36326/" title="文本编辑器 vim"><img src="https://s2.loli.net/2022/07/29/pgzPG9s8QVRdUky.png" onerror='this.onerror=null,this.src="https://fastly.jsdelivr.net/gh/janedut/blog_data@main/img/404.svg"' alt="文本编辑器 vim"></a><div class="content"><a class="title" href="/posts/36326/" title="文本编辑器 vim">文本编辑器 vim</a><time datetime="2022-07-12T02:16:39.000Z" title="发布于 7 月 12 日 10:16:39">7 月 12 日</time></div></div></div></div></div></div></main><footer id="footer"><div id="ah-footer"><div class="footer-group"><h3 class="footer-title">博客文章</h3><div class="footer-links"><a class="footer-item" href="/archives/" data-pjax-state="">全部文章</a><a class="footer-item" href="/tags/" data-pjax-state="">文章标签</a><a class="footer-item" href="/categories/" data-pjax-state="">文章分类</a></div></div><div class="footer-group"><h3 class="footer-title">学习笔记</h3><div class="footer-links"><a class="footer-item" href="/tags/R/" data-pjax-state="">R 语言</a><a class="footer-item" href="/tags/Python/" data-pjax-state="">Python</a><a class="footer-item" href="/tags/Linux/" data-pjax-state="">Linux</a></div></div><div class="footer-group"><h3 class="footer-title">博客链接</h3><div class="footer-links"><a class="footer-item" href="/friends/" data-pjax-state="">友链动态</a><a class="footer-item" href="/link/" data-pjax-state="">友情链接</a><a class="footer-item" href="/bb/" data-pjax-state="">哔哔点啥</a></div></div><div class="footer-group"><h3 class="footer-title">博客改造</h3><div class="footer-links"><a class="footer-item" href="/posts/43603/" data-pjax-state="">博客部署</a><a class="footer-item" href="/categories/博客魔改/" data-pjax-state="">博客魔改</a></div></div><div class="footer-group"><h3 class="footer-title">关于本站</h3><div class="footer-links"><a class="footer-item" href="/about/" data-pjax-state="">关于博主</a><a class="footer-item" href="/cc/" data-pjax-state="">版权协议</a><a class="footer-item" onclick="btf.scrollToDest(0,500)">回到顶部</a></div></div></div><div id="fotter-copyright" style="font-size:90%"><div class="copyrights"><span>Copyright © 2022 Aohuiliu.</span> <span>All rights reserved.</span></div><div class="framework-info"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">&</span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="输入关键字" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo-janedut.vercel.app",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},t=()=>{"object"!=typeof twikoo?getScript("https://npm.elemecdn.com/js-heo@1.0.13/twikoo/twikoo.all.min.js").then(o):setTimeout(o,0)};btf.loadComment(document.getElementById("twikoo-wrap"),t)})()</script></div><script async data-pjax src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/pace/1.2.4/pace.min.js"></script><script data-pjax src="https://npm.elemecdn.com/eurkon-cdn/hexo/js/rgbaster.min.js"></script></div><script data-pjax>function butterfly_swiper_injector_config(){var s=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),s.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/22544/" alt=""><img width="48" height="48" src="https://images.unsplash.com/photo-1475137979732-b349acb6b7e3?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=870&amp;q=80" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-04-27</span><a class="blog-slider__title" href="posts/22544/" alt="">折腾博客的思考🤔</a><div class="blog-slider__text">折腾各种博客平台和主题，真的有用吗？</div><a class="blog-slider__button" href="posts/22544/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/43603/" alt=""><img width="48" height="48" src="https://s2.loli.net/2022/06/14/eWu4ZaFdBR73K6N.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-04-30</span><a class="blog-slider__title" href="posts/43603/" alt="">Hexo deploy shell script</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="posts/43603/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/29090/" alt=""><img width="48" height="48" src="https://images.unsplash.com/photo-1623474237394-055b5c5b9095?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1053&amp;q=80" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-31</span><a class="blog-slider__title" href="posts/29090/" alt="">【魔改】去除标签和分类页子页面的侧边栏</a><div class="blog-slider__text">去除 Butterfly 主题标签页和分类页子页面的侧边栏（aside）</div><a class="blog-slider__button" href="posts/29090/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/34995/" alt=""><img width="48" height="48" src="https://s2.loli.net/2022/06/14/5KmJc84UNDiF7qd.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-05</span><a class="blog-slider__title" href="posts/34995/" alt="">Typora 自用主题修改 CSS</a><div class="blog-slider__text">主题是 Github 上的 Drake，默认就很好看，自己的做了一些修改。</div><a class="blog-slider__button" href="posts/34995/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/27153/" alt=""><img width="48" height="48" src="https://s2.loli.net/2022/06/14/5wHfFZUlj6BTo2G.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-30</span><a class="blog-slider__title" href="posts/27153/" alt="">24 个 R 的高效操作</a><div class="blog-slider__text">R 中提升效率的小技巧</div><a class="blog-slider__button" href="posts/27153/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.js"></script><script defer data-pjax src="/js/swiper_init.js"></script></body></html>